(()=>{var Rt=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var Et=Rt((I,it)=>{(function(t,r){typeof I=="object"&&typeof it=="object"?it.exports=r():typeof define=="function"&&define.amd?define("Typewriter",[],r):typeof I=="object"?I.Typewriter=r():t.Typewriter=r()})(typeof self!="undefined"?self:I,function(){return function(t){var r={};function e(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(i,o,a){e.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},e.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},e.t=function(i,o){if(1&o&&(i=e(i)),8&o||4&o&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&o&&typeof i!="string")for(var s in i)e.d(a,s,function(f){return i[f]}.bind(null,s));return a},e.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(o,"a",o),o},e.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},e.p="",e(e.s=3)}([,function(t,r,e){(function(i){for(var o=e(11),a=typeof window=="undefined"?i:window,s=["moz","webkit"],f="AnimationFrame",m=a["request"+f],y=a["cancel"+f]||a["cancelRequest"+f],g=0;!m&&g<s.length;g++)m=a[s[g]+"Request"+f],y=a[s[g]+"Cancel"+f]||a[s[g]+"CancelRequest"+f];if(!m||!y){var N=0,R=0,L=[];m=function(k){if(L.length===0){var C=o(),w=Math.max(0,1e3/60-(C-N));N=w+C,setTimeout(function(){var A=L.slice(0);L.length=0;for(var x=0;x<A.length;x++)if(!A[x].cancelled)try{A[x].callback(N)}catch(Y){setTimeout(function(){throw Y},0)}},Math.round(w))}return L.push({handle:++R,callback:k,cancelled:!1}),R},y=function(k){for(var C=0;C<L.length;C++)L[C].handle===k&&(L[C].cancelled=!0)}}t.exports=function(k){return m.call(a,k)},t.exports.cancel=function(){y.apply(a,arguments)},t.exports.polyfill=function(k){k||(k=a),k.requestAnimationFrame=m,k.cancelAnimationFrame=y}}).call(this,e(4))},,function(t,r,e){"use strict";e.r(r),e.d(r,"default",function(){return xt});var i=e(1),o=e.n(i),a=function(d){return new RegExp(/<[a-z][\s\S]*>/i).test(d)},s=function(d){var l=document.createElement("div");return l.innerHTML=d,l.childNodes},f=function(d,l){return Math.floor(Math.random()*(l-d+1))+d},m=function(d){var l=document.createElement("style");l.appendChild(document.createTextNode(d)),document.head.appendChild(l)},y="TYPE_CHARACTER",g="REMOVE_CHARACTER",N="REMOVE_ALL",R="REMOVE_LAST_VISIBLE_NODE",L="PAUSE_FOR",k="CALL_FUNCTION",C="ADD_HTML_TAG_ELEMENT",w="CHANGE_DELETE_SPEED",A="CHANGE_DELAY",x="CHANGE_CURSOR",Y="PASTE_STRING",$="HTML_TAG",Ct="TEXT_NODE";function ot(d,l){var S=Object.keys(d);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(d);l&&(p=p.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable})),S.push.apply(S,p)}return S}function B(d){for(var l=1;l<arguments.length;l++){var S=arguments[l]!=null?arguments[l]:{};l%2?ot(Object(S),!0).forEach(function(p){T(d,p,S[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(S)):ot(Object(S)).forEach(function(p){Object.defineProperty(d,p,Object.getOwnPropertyDescriptor(S,p))})}return d}function D(d){return function(l){if(Array.isArray(l))return K(l)}(d)||function(l){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(l))return Array.from(l)}(d)||function(l,S){if(!!l){if(typeof l=="string")return K(l,S);var p=Object.prototype.toString.call(l).slice(8,-1);if(p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set")return Array.from(l);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return K(l,S)}}(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function K(d,l){(l==null||l>d.length)&&(l=d.length);for(var S=0,p=new Array(l);S<l;S++)p[S]=d[S];return p}function st(d,l){for(var S=0;S<l.length;S++){var p=l[S];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}function T(d,l,S){return l in d?Object.defineProperty(d,l,{value:S,enumerable:!0,configurable:!0,writable:!0}):d[l]=S,d}var xt=function(){function d(z,at){var n=this;if(function(u,b){if(!(u instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),T(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),T(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),T(this,"setupWrapperElement",function(){n.state.elements.container&&(n.state.elements.wrapper.className=n.options.wrapperClassName,n.state.elements.cursor.className=n.options.cursorClassName,n.state.elements.cursor.innerHTML=n.options.cursor,n.state.elements.container.innerHTML="",n.state.elements.container.appendChild(n.state.elements.wrapper),n.state.elements.container.appendChild(n.state.elements.cursor))}),T(this,"start",function(){return n.state.eventLoopPaused=!1,n.runEventLoop(),n}),T(this,"pause",function(){return n.state.eventLoopPaused=!0,n}),T(this,"stop",function(){return n.state.eventLoop&&(Object(i.cancel)(n.state.eventLoop),n.state.eventLoop=null),n}),T(this,"pauseFor",function(u){return n.addEventToQueue(L,{ms:u}),n}),T(this,"typeOutAllStrings",function(){return typeof n.options.strings=="string"?(n.typeString(n.options.strings).pauseFor(n.options.pauseFor),n):(n.options.strings.forEach(function(u){n.typeString(u).pauseFor(n.options.pauseFor).deleteAll(n.options.deleteSpeed)}),n)}),T(this,"typeString",function(u){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(a(u))return n.typeOutHTMLString(u,b);if(u){var v=n.options||{},h=v.stringSplitter,F=typeof h=="function"?h(u):u.split("");n.typeCharacters(F,b)}return n}),T(this,"pasteString",function(u){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return a(u)?n.typeOutHTMLString(u,b,!0):(u&&n.addEventToQueue(Y,{character:u,node:b}),n)}),T(this,"typeOutHTMLString",function(u){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2?arguments[2]:void 0,h=s(u);if(h.length>0)for(var F=0;F<h.length;F++){var _=h[F],X=_.innerHTML;_&&_.nodeType!==3?(_.innerHTML="",n.addEventToQueue(C,{node:_,parentNode:b}),v?n.pasteString(X,_):n.typeString(X,_)):_.textContent&&(v?n.pasteString(_.textContent,b):n.typeString(_.textContent,b))}return n}),T(this,"deleteAll",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return n.addEventToQueue(N,{speed:u}),n}),T(this,"changeDeleteSpeed",function(u){if(!u)throw new Error("Must provide new delete speed");return n.addEventToQueue(w,{speed:u}),n}),T(this,"changeDelay",function(u){if(!u)throw new Error("Must provide new delay");return n.addEventToQueue(A,{delay:u}),n}),T(this,"changeCursor",function(u){if(!u)throw new Error("Must provide new cursor");return n.addEventToQueue(x,{cursor:u}),n}),T(this,"deleteChars",function(u){if(!u)throw new Error("Must provide amount of characters to delete");for(var b=0;b<u;b++)n.addEventToQueue(g);return n}),T(this,"callFunction",function(u,b){if(!u||typeof u!="function")throw new Error("Callbak must be a function");return n.addEventToQueue(k,{cb:u,thisArg:b}),n}),T(this,"typeCharacters",function(u){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!u||!Array.isArray(u))throw new Error("Characters must be an array");return u.forEach(function(v){n.addEventToQueue(y,{character:v,node:b})}),n}),T(this,"removeCharacters",function(u){if(!u||!Array.isArray(u))throw new Error("Characters must be an array");return u.forEach(function(){n.addEventToQueue(g)}),n}),T(this,"addEventToQueue",function(u,b){var v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return n.addEventToStateProperty(u,b,v,"eventQueue")}),T(this,"addReverseCalledEvent",function(u,b){var v=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=n.options.loop;return h?n.addEventToStateProperty(u,b,v,"reverseCalledEvents"):n}),T(this,"addEventToStateProperty",function(u,b){var v=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=arguments.length>3?arguments[3]:void 0,F={eventName:u,eventArgs:b||{}};return n.state[h]=v?[F].concat(D(n.state[h])):[].concat(D(n.state[h]),[F]),n}),T(this,"runEventLoop",function(){n.state.lastFrameTime||(n.state.lastFrameTime=Date.now());var u=Date.now(),b=u-n.state.lastFrameTime;if(!n.state.eventQueue.length){if(!n.options.loop)return;n.state.eventQueue=D(n.state.calledEvents),n.state.calledEvents=[],n.options=B({},n.state.initialOptions)}if(n.state.eventLoop=o()(n.runEventLoop),!n.state.eventLoopPaused){if(n.state.pauseUntil){if(u<n.state.pauseUntil)return;n.state.pauseUntil=null}var v=D(n.state.eventQueue),h=v.shift(),F=0;if(!(b<=(F=h.eventName===R||h.eventName===g?n.options.deleteSpeed==="natural"?f(40,80):n.options.deleteSpeed:n.options.delay==="natural"?f(120,160):n.options.delay))){var _=h.eventName,X=h.eventArgs;switch(n.logInDevMode({currentEvent:h,state:n.state,delay:F}),_){case Y:case y:var Z=X.character,lt=X.node,ct=document.createTextNode(Z),U=ct;n.options.onCreateTextNode&&typeof n.options.onCreateTextNode=="function"&&(U=n.options.onCreateTextNode(Z,ct)),U&&(lt?lt.appendChild(U):n.state.elements.wrapper.appendChild(U)),n.state.visibleNodes=[].concat(D(n.state.visibleNodes),[{type:Ct,character:Z,node:U}]);break;case g:v.unshift({eventName:R,eventArgs:{removingCharacterNode:!0}});break;case L:var vt=h.eventArgs.ms;n.state.pauseUntil=Date.now()+parseInt(vt);break;case k:var ft=h.eventArgs,kt=ft.cb,At=ft.thisArg;kt.call(At,{elements:n.state.elements});break;case C:var dt=h.eventArgs,G=dt.node,tt=dt.parentNode;tt?tt.appendChild(G):n.state.elements.wrapper.appendChild(G),n.state.visibleNodes=[].concat(D(n.state.visibleNodes),[{type:$,node:G,parentNode:tt||n.state.elements.wrapper}]);break;case N:var Ot=n.state.visibleNodes,et=X.speed,q=[];et&&q.push({eventName:w,eventArgs:{speed:et,temp:!0}});for(var pt=0,Mt=Ot.length;pt<Mt;pt++)q.push({eventName:R,eventArgs:{removingCharacterNode:!1}});et&&q.push({eventName:w,eventArgs:{speed:n.options.deleteSpeed,temp:!0}}),v.unshift.apply(v,q);break;case R:var Lt=h.eventArgs.removingCharacterNode;if(n.state.visibleNodes.length){var nt=n.state.visibleNodes.pop(),Nt=nt.type,V=nt.node,_t=nt.character;n.options.onRemoveNode&&typeof n.options.onRemoveNode=="function"&&n.options.onRemoveNode({node:V,character:_t}),V&&V.parentNode.removeChild(V),Nt===$&&Lt&&v.unshift({eventName:R,eventArgs:{}})}break;case w:n.options.deleteSpeed=h.eventArgs.speed;break;case A:n.options.delay=h.eventArgs.delay;break;case x:n.options.cursor=h.eventArgs.cursor,n.state.elements.cursor.innerHTML=h.eventArgs.cursor}n.options.loop&&(h.eventName===R||h.eventArgs&&h.eventArgs.temp||(n.state.calledEvents=[].concat(D(n.state.calledEvents),[h]))),n.state.eventQueue=v,n.state.lastFrameTime=u}}}),z)if(typeof z=="string"){var ut=document.querySelector(z);if(!ut)throw new Error("Could not find container element");this.state.elements.container=ut}else this.state.elements.container=z;at&&(this.options=B(B({},this.options),at)),this.state.initialOptions=B({},this.options),this.init()}var l,S,p;return l=d,(S=[{key:"init",value:function(){this.setupWrapperElement(),this.addEventToQueue(x,{cursor:this.options.cursor},!0),this.addEventToQueue(N,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(m(".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}"),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(z){this.options.devMode&&console.log(z)}}])&&st(l.prototype,S),p&&st(l,p),d}()},function(t,r){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(i){typeof window=="object"&&(e=window)}t.exports=e},,,,,,,function(t,r,e){(function(i){(function(){var o,a,s,f,m,y;typeof performance!="undefined"&&performance!==null&&performance.now?t.exports=function(){return performance.now()}:i!=null&&i.hrtime?(t.exports=function(){return(o()-m)/1e6},a=i.hrtime,f=(o=function(){var g;return 1e9*(g=a())[0]+g[1]})(),y=1e9*i.uptime(),m=f-y):Date.now?(t.exports=function(){return Date.now()-s},s=Date.now()):(t.exports=function(){return new Date().getTime()-s},s=new Date().getTime())}).call(this)}).call(this,e(12))},function(t,r){var e,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function f(w){if(e===setTimeout)return setTimeout(w,0);if((e===a||!e)&&setTimeout)return e=setTimeout,setTimeout(w,0);try{return e(w,0)}catch(A){try{return e.call(null,w,0)}catch(x){return e.call(this,w,0)}}}(function(){try{e=typeof setTimeout=="function"?setTimeout:a}catch(w){e=a}try{i=typeof clearTimeout=="function"?clearTimeout:s}catch(w){i=s}})();var m,y=[],g=!1,N=-1;function R(){g&&m&&(g=!1,m.length?y=m.concat(y):N=-1,y.length&&L())}function L(){if(!g){var w=f(R);g=!0;for(var A=y.length;A;){for(m=y,y=[];++N<A;)m&&m[N].run();N=-1,A=y.length}m=null,g=!1,function(x){if(i===clearTimeout)return clearTimeout(x);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(x);try{i(x)}catch(Y){try{return i.call(null,x)}catch($){return i.call(this,x)}}}(w)}}function k(w,A){this.fun=w,this.array=A}function C(){}o.nextTick=function(w){var A=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)A[x-1]=arguments[x];y.push(new k(w,A)),y.length!==1||g||f(L)},k.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=C,o.addListener=C,o.once=C,o.off=C,o.removeListener=C,o.removeAllListeners=C,o.emit=C,o.prependListener=C,o.prependOnceListener=C,o.listeners=function(w){return[]},o.binding=function(w){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(w){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}]).default})});var E;(function(t){t[t.StartScreen=0]="StartScreen",t[t.Playing=1]="Playing",t[t.Paused=2]="Paused",t[t.GameOver=3]="GameOver"})(E||(E={}));var M;(function(t){t[t.Idle=0]="Idle",t[t.Running=1]="Running"})(M||(M={}));var O;(function(t){t[t.Player=0]="Player",t[t.Meteor=4]="Meteor",t[t.Meteor2=5]="Meteor2",t[t.UFO=6]="UFO",t[t.Star=3]="Star",t[t.StarCaught=7]="StarCaught"})(O||(O={}));var j;(function(t){t[t.PlayerIdle=0]="PlayerIdle",t[t.PlayerRunLeft=1]="PlayerRunLeft",t[t.PlayerRunRight=2]="PlayerRunRight",t[t.Star=3]="Star",t[t.Meteor=4]="Meteor",t[t.Meteor2=5]="Meteor2",t[t.UFO=6]="UFO",t[t.StarCaught=7]="StarCaught"})(j||(j={}));var ht=(t,r)=>!(t.input.left&&t.input.right)&&(t.input.left||t.input.right)?{...r,state:M.Running}:r,gt=(t,r,e,i)=>{if(!(t.input.left&&t.input.right)){if(t.input.left&&r.xpos-5<e||t.input.right&&r.xpos*2+5>i)return r;if(t.input.left)return{...r,state:M.Running,xpos:r.xpos-r.speed};if(t.input.right)return{...r,state:M.Running,xpos:r.xpos+r.speed}}return{...r,state:M.Idle}};var mt={state:E.StartScreen,entities:[],score:0,input:{left:!1,right:!1},tickRate:6,tickSkip:!1,tickCount:0,spriteSize:64,spriteFrameCount:3,spawnWait:200,spawnTickCount:0,fallSpeedMultiplier:1},St={type:O.Player,state:M.Idle,xpos:0,ypos:114,speed:4,frameIndex:0,bboxStartXOffset:0,bboxStartYOffset:0,bboxWidth:0,bboxHeight:0},c=mt,H=St,yt=new Image;yt.src="images/gamespritesheet.png";var bt=new Image;bt.src="images/gameforeground.png";var P,J,Q,rt,W={maxStars:null,entityXpos:[],entityYpos:null,foregroundXpos:[]},Ft=(t,r,e)=>{P=Math.floor(-t.canvas.width*.5),J=Math.floor(-t.canvas.height*.5),Q=t.canvas.width,rt=t.canvas.height,e.xpos+5<P?e={...e,xpos:P+1}:e.xpos*2-5>Q&&(e={...e,xpos:Math.floor(Q*.5-1)}),document.activeElement!==t.canvas&&(r={...r,state:E.Paused});let i=r.spawnWait,o=r.fallSpeedMultiplier;switch(r.state===E.Playing&&(i>60&&(i-=.1),o<10&&(o+=5e-4)),e.state){case M.Idle:e=ht(r,e);break;case M.Running:e=gt(r,e,P,Q);break}let a=[];return r.entities.forEach(s=>{s.ypos>=t.canvas.height-r.spriteSize||s.cycled||a.push({...s,ypos:s.ypos+s.speed*r.fallSpeedMultiplier})}),r={...r,entities:a,spawnWait:i,fallSpeedMultiplier:o,spawnTickCount:r.spawnTickCount+1,tickCount:r.tickCount+1},{game:r,player:e}},zt=(t,r,e,i)=>{t.fillStyle="#161922",t.fillRect(P,J,Q,rt);let o=(a,s)=>{let f={image:yt,sWidth:e.spriteSize,sHeight:e.spriteSize,dx:Math.floor(a.xpos-e.spriteSize*.5),dy:Math.floor(a.ypos-e.spriteSize*.5),dWidth:e.spriteSize,dHeight:e.spriteSize},m=a.frameIndex*e.spriteSize,y=s*e.spriteSize;t.drawImage(f.image,m,y,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)};for(let a=0;a<W.foregroundXpos.length;a++)t.drawImage(bt,W.foregroundXpos[a],128);switch(e.entities.forEach(a=>{o(a,a.type)}),i.state){case M.Idle:o(i,j.PlayerIdle);break;case M.Running:e.input.left&&e.input.right?o(i,j.PlayerIdle):e.input.left?o(i,j.PlayerRunLeft):e.input.right&&o(i,j.PlayerRunRight);break}if(t.fillStyle="white",t.font="24px VT323",t.fillText(`SCORE: ${e.score}`,P+12,J+24),(e.state===E.Paused||e.state===E.GameOver)&&(t.fillStyle="#161922",t.fillRect(P,J,Q,rt),e.state===E.Paused?(r.style.top="140px",r.innerText="Paused"):e.state===E.GameOver&&(r.style.top="120px",r.innerHTML=`Game Over <br> SCORE: ${e.score}`,e=mt,i=St)),e.tickCount===e.tickRate){i.state===M.Idle&&e.tickSkip||(i={...i,frameIndex:i.frameIndex===e.spriteFrameCount-1?0:i.frameIndex+1});let a=[];e.entities.forEach(s=>{s.type!==O.StarCaught?e.tickSkip?a.push(s):a.push({...s,frameIndex:s.frameIndex===e.spriteFrameCount-1?0:s.frameIndex+1}):s.frameIndex===e.spriteFrameCount-1?a.push({...s,frameIndex:0,cycled:!0}):a.push({...s,frameIndex:s.frameIndex===e.spriteFrameCount-1?0:s.frameIndex+1})}),e={...e,entities:a,tickSkip:!e.tickSkip,tickCount:0}}return{game:e,player:i}},Dt=t=>{if(t.state===E.Playing&&t.spawnTickCount>=t.spawnWait){let r=[O.Meteor,O.Meteor2,O.UFO],e=[],i=0,o=W.maxStars||0;o<1&&(o=1);for(let a=0;a<W.entityXpos.length;a++){let s=r[Math.floor(Math.random()*r.length)],f=[];switch(s){case O.Meteor:f=[12,12,t.spriteSize-24,t.spriteSize-24];break;case O.Meteor2:f=[22,22,t.spriteSize-42,t.spriteSize-42];break;case O.UFO:f=[12,16,t.spriteSize-20,t.spriteSize-28];break}Math.random()>.5&&e.push({type:s,xpos:W.entityXpos[a],ypos:W.entityYpos||0,frameIndex:0,speed:1+Math.random(),bboxStartXOffset:f[0],bboxStartYOffset:f[1],bboxWidth:f[2],bboxHeight:f[3]})}for(let a=0;a<e.length&&i!==o;a++)Math.random()>.5&&(e[a]={...e[a],type:O.Star,speed:.5+Math.random(),bboxStartXOffset:16,bboxStartYOffset:14,bboxWidth:t.spriteSize-32,bboxHeight:t.spriteSize-28},i++);t={...t,entities:[...t.entities,...e],spawnTickCount:0}}return t},jt=(t,r)=>{if(r.bboxWidth===0&&(r={...r,bboxStartXOffset:12,bboxStartYOffset:2,bboxWidth:t.spriteSize-25,bboxHeight:t.spriteSize-2}),!t.tickCount&&t.tickSkip){let e=r.xpos-t.spriteSize*.5+r.bboxStartXOffset,i=r.ypos-t.spriteSize*.5+r.bboxStartYOffset,o=[],a=!1;t.entities.forEach(s=>{let f=s.xpos-t.spriteSize*.5+s.bboxStartXOffset,m=s.ypos-t.spriteSize*.5+s.bboxStartYOffset;if(e<f+s.bboxWidth&&e+r.bboxWidth>f&&i<m+s.bboxHeight&&i+r.bboxHeight>m){if(s.type===O.Star){o.push({...s,type:O.StarCaught,frameIndex:0,cycled:!1}),a=!0,t={...t,score:t.score+1};return}else if(s.type!==O.StarCaught){t={...t,state:E.GameOver};return}}o.push(s)}),a&&(t={...t,entities:o})}return{game:t,player:r}},wt=(t,r,e)=>{e&&(t.canvas.style.cursor="default",c={...c,state:e}),c=Dt(c),{game:c,player:H}=jt(c,H),{game:c,player:H}=Ft(t,c,H),{game:c,player:H}=zt(t,r,c,H),c.state===E.Playing&&window.requestAnimationFrame(()=>wt(t,r))},Ht=t=>{if(!t||!t.getContext)return null;let r=document.getElementById("game-text"),e=t.getContext("2d");if(e!==null&&r){r.innerText="Game Start";let i=()=>{window.requestAnimationFrame(()=>wt(e,r,E.Playing)),r.innerText=""};t.addEventListener("click",()=>{c.state!==E.Playing&&i()}),t.addEventListener("mouseenter",()=>{c.state!==E.Playing&&(r.classList.add("text-grow"),r.style.color="#CBD3FF",t.style.cursor="pointer",r.innerText==="Paused"&&(r.innerText="Unpause"))}),t.addEventListener("mouseout",()=>{c.state!==E.Playing&&(r.classList.remove("text-grow"),r.style.color="white",r.innerText==="Unpause"&&(r.innerText="Paused"))}),t.addEventListener("keydown",s=>{s.key!=="Tab"&&s.preventDefault(),c.state===E.Playing?((s.key==="ArrowLeft"||s.key==="a")&&(c={...c,input:{left:!0,right:c.input.right}}),(s.key==="ArrowRight"||s.key==="d")&&(c={...c,input:{left:c.input.left,right:!0}})):(s.key==="Enter"||s.key==="Spacebar"||s.key===" ")&&i()}),t.addEventListener("keyup",s=>{c.state===E.Playing&&((s.key==="ArrowLeft"||s.key==="a")&&(c={...c,input:{left:!1,right:c.input.right}}),(s.key==="ArrowRight"||s.key==="d")&&(c={...c,input:{left:c.input.left,right:!1}}))}),t.addEventListener("touchstart",s=>{c.state===E.Playing&&s.cancelable&&(s.preventDefault(),(s.targetTouches[0]?s.targetTouches[0].pageX:s.changedTouches[s.changedTouches.length-1].pageX)<H.xpos+window.innerWidth*.5?c={...c,input:{left:!0,right:!1}}:c={...c,input:{left:!1,right:!0}})}),t.addEventListener("touchend",()=>{c.state===E.Playing&&(c={...c,input:{left:!1,right:!1}})});let o=null,a=()=>{let s=document.getElementById("projects")?.clientWidth;s&&(e.canvas.height=320,e.canvas.width=s,e.translate(Math.floor(s*.5),Math.floor(e.canvas.height*.5)),o&&clearTimeout(o),o=setTimeout(()=>{let f=Math.ceil(e.canvas.width/(c.spriteSize*2)),m=[],y=[];for(let g=0;g<f;g++)m.push(Math.floor(-e.canvas.width*.5)+g*(c.spriteSize*2)+c.spriteSize*.5);for(let g=0;g<Math.ceil(e.canvas.width/c.spriteSize);g++)y.push(Math.floor(-e.canvas.width*.5)+g*c.spriteSize);W={maxStars:Math.floor(e.canvas.width/(c.spriteSize*5)),entityXpos:m,entityYpos:0-e.canvas.height*.5-c.spriteSize,foregroundXpos:y}},100))};a(),window.addEventListener("resize",a)}},Tt=Ht;var Pt=Et();window.addEventListener("DOMContentLoaded",()=>{(()=>{let e=document.getElementById("cycle"),i=["Interactive Experiences","Functional Websites","Your Next Dream Project"],o=1500;new Pt(e,{loop:!0,delay:75,deleteSpeed:25}).pauseFor(o).typeString(i[0]).pauseFor(o*2).deleteChars(i[0].length).pauseFor(o).typeString(i[1]).pauseFor(o*2).deleteChars(i[1].length).pauseFor(o).typeString(i[2]).pauseFor(o*2).deleteChars(i[2].length).pauseFor(o).start()})();let r=document.getElementsByClassName("js-only");for(let e=0;e<r.length;e++)r[e].classList.remove("js-only");Tt(document.getElementById("game"))});})();
//# sourceMappingURL=script.js.map
