(()=>{var _e=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var Te=_e((Y,oe)=>{(function(t,s){typeof Y=="object"&&typeof oe=="object"?oe.exports=s():typeof define=="function"&&define.amd?define("Typewriter",[],s):typeof Y=="object"?Y.Typewriter=s():t.Typewriter=s()})(typeof self!="undefined"?self:Y,function(){return function(t){var s={};function i(o){if(s[o])return s[o].exports;var r=s[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=s,i.d=function(o,r,l){i.o(o,r)||Object.defineProperty(o,r,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,r){if(1&r&&(o=i(o)),8&r||4&r&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&r&&typeof o!="string")for(var a in o)i.d(l,a,function(T){return o[T]}.bind(null,a));return l},i.n=function(o){var r=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(r,"a",r),r},i.o=function(o,r){return Object.prototype.hasOwnProperty.call(o,r)},i.p="",i(i.s=3)}([,function(t,s,i){(function(o){for(var r=i(11),l=typeof window=="undefined"?o:window,a=["moz","webkit"],T="AnimationFrame",b=l["request"+T],m=l["cancel"+T]||l["cancelRequest"+T],f=0;!b&&f<a.length;f++)b=l[a[f]+"Request"+T],m=l[a[f]+"Cancel"+T]||l[a[f]+"CancelRequest"+T];if(!b||!m){var A=0,k=0,L=[];b=function(O){if(L.length===0){var v=r(),w=Math.max(0,1e3/60-(v-A));A=w+v,setTimeout(function(){var P=L.slice(0);L.length=0;for(var x=0;x<P.length;x++)if(!P[x].cancelled)try{P[x].callback(A)}catch(B){setTimeout(function(){throw B},0)}},Math.round(w))}return L.push({handle:++k,callback:O,cancelled:!1}),k},m=function(O){for(var v=0;v<L.length;v++)L[v].handle===O&&(L[v].cancelled=!0)}}t.exports=function(O){return b.call(l,O)},t.exports.cancel=function(){m.apply(l,arguments)},t.exports.polyfill=function(O){O||(O=l),O.requestAnimationFrame=b,O.cancelAnimationFrame=m}}).call(this,i(4))},,function(t,s,i){"use strict";i.r(s),i.d(s,"default",function(){return xe});var o=i(1),r=i.n(o),l=function(p){return new RegExp(/<[a-z][\s\S]*>/i).test(p)},a=function(p){var c=document.createElement("div");return c.innerHTML=p,c.childNodes},T=function(p,c){return Math.floor(Math.random()*(c-p+1))+p},b=function(p){var c=document.createElement("style");c.appendChild(document.createTextNode(p)),document.head.appendChild(c)},m="TYPE_CHARACTER",f="REMOVE_CHARACTER",A="REMOVE_ALL",k="REMOVE_LAST_VISIBLE_NODE",L="PAUSE_FOR",O="CALL_FUNCTION",v="ADD_HTML_TAG_ELEMENT",w="CHANGE_DELETE_SPEED",P="CHANGE_DELAY",x="CHANGE_CURSOR",B="PASTE_STRING",J="HTML_TAG",Ce="TEXT_NODE";function ie(p,c){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(p);c&&(h=h.filter(function(D){return Object.getOwnPropertyDescriptor(p,D).enumerable})),y.push.apply(y,h)}return y}function G(p){for(var c=1;c<arguments.length;c++){var y=arguments[c]!=null?arguments[c]:{};c%2?ie(Object(y),!0).forEach(function(h){E(p,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):ie(Object(y)).forEach(function(h){Object.defineProperty(p,h,Object.getOwnPropertyDescriptor(y,h))})}return p}function F(p){return function(c){if(Array.isArray(c))return V(c)}(p)||function(c){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(c))return Array.from(c)}(p)||function(c,y){if(!!c){if(typeof c=="string")return V(c,y);var h=Object.prototype.toString.call(c).slice(8,-1);if(h==="Object"&&c.constructor&&(h=c.constructor.name),h==="Map"||h==="Set")return Array.from(c);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return V(c,y)}}(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V(p,c){(c==null||c>p.length)&&(c=p.length);for(var y=0,h=new Array(c);y<c;y++)h[y]=p[y];return h}function se(p,c){for(var y=0;y<c.length;y++){var h=c[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}function E(p,c,y){return c in p?Object.defineProperty(p,c,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[c]=y,p}var xe=function(){function p(D,ae){var e=this;if(function(u,S){if(!(u instanceof S))throw new TypeError("Cannot call a class as a function")}(this,p),E(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),E(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),E(this,"setupWrapperElement",function(){e.state.elements.container&&(e.state.elements.wrapper.className=e.options.wrapperClassName,e.state.elements.cursor.className=e.options.cursorClassName,e.state.elements.cursor.innerHTML=e.options.cursor,e.state.elements.container.innerHTML="",e.state.elements.container.appendChild(e.state.elements.wrapper),e.state.elements.container.appendChild(e.state.elements.cursor))}),E(this,"start",function(){return e.state.eventLoopPaused=!1,e.runEventLoop(),e}),E(this,"pause",function(){return e.state.eventLoopPaused=!0,e}),E(this,"stop",function(){return e.state.eventLoop&&(Object(o.cancel)(e.state.eventLoop),e.state.eventLoop=null),e}),E(this,"pauseFor",function(u){return e.addEventToQueue(L,{ms:u}),e}),E(this,"typeOutAllStrings",function(){return typeof e.options.strings=="string"?(e.typeString(e.options.strings).pauseFor(e.options.pauseFor),e):(e.options.strings.forEach(function(u){e.typeString(u).pauseFor(e.options.pauseFor).deleteAll(e.options.deleteSpeed)}),e)}),E(this,"typeString",function(u){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(l(u))return e.typeOutHTMLString(u,S);if(u){var M=e.options||{},g=M.stringSplitter,H=typeof g=="function"?g(u):u.split("");e.typeCharacters(H,S)}return e}),E(this,"pasteString",function(u){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return l(u)?e.typeOutHTMLString(u,S,!0):(u&&e.addEventToQueue(B,{character:u,node:S}),e)}),E(this,"typeOutHTMLString",function(u){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,M=arguments.length>2?arguments[2]:void 0,g=a(u);if(g.length>0)for(var H=0;H<g.length;H++){var _=g[H],W=_.innerHTML;_&&_.nodeType!==3?(_.innerHTML="",e.addEventToQueue(v,{node:_,parentNode:S}),M?e.pasteString(W,_):e.typeString(W,_)):_.textContent&&(M?e.pasteString(_.textContent,S):e.typeString(_.textContent,S))}return e}),E(this,"deleteAll",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return e.addEventToQueue(A,{speed:u}),e}),E(this,"changeDeleteSpeed",function(u){if(!u)throw new Error("Must provide new delete speed");return e.addEventToQueue(w,{speed:u}),e}),E(this,"changeDelay",function(u){if(!u)throw new Error("Must provide new delay");return e.addEventToQueue(P,{delay:u}),e}),E(this,"changeCursor",function(u){if(!u)throw new Error("Must provide new cursor");return e.addEventToQueue(x,{cursor:u}),e}),E(this,"deleteChars",function(u){if(!u)throw new Error("Must provide amount of characters to delete");for(var S=0;S<u;S++)e.addEventToQueue(f);return e}),E(this,"callFunction",function(u,S){if(!u||typeof u!="function")throw new Error("Callbak must be a function");return e.addEventToQueue(O,{cb:u,thisArg:S}),e}),E(this,"typeCharacters",function(u){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!u||!Array.isArray(u))throw new Error("Characters must be an array");return u.forEach(function(M){e.addEventToQueue(m,{character:M,node:S})}),e}),E(this,"removeCharacters",function(u){if(!u||!Array.isArray(u))throw new Error("Characters must be an array");return u.forEach(function(){e.addEventToQueue(f)}),e}),E(this,"addEventToQueue",function(u,S){var M=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return e.addEventToStateProperty(u,S,M,"eventQueue")}),E(this,"addReverseCalledEvent",function(u,S){var M=arguments.length>2&&arguments[2]!==void 0&&arguments[2],g=e.options.loop;return g?e.addEventToStateProperty(u,S,M,"reverseCalledEvents"):e}),E(this,"addEventToStateProperty",function(u,S){var M=arguments.length>2&&arguments[2]!==void 0&&arguments[2],g=arguments.length>3?arguments[3]:void 0,H={eventName:u,eventArgs:S||{}};return e.state[g]=M?[H].concat(F(e.state[g])):[].concat(F(e.state[g]),[H]),e}),E(this,"runEventLoop",function(){e.state.lastFrameTime||(e.state.lastFrameTime=Date.now());var u=Date.now(),S=u-e.state.lastFrameTime;if(!e.state.eventQueue.length){if(!e.options.loop)return;e.state.eventQueue=F(e.state.calledEvents),e.state.calledEvents=[],e.options=G({},e.state.initialOptions)}if(e.state.eventLoop=r()(e.runEventLoop),!e.state.eventLoopPaused){if(e.state.pauseUntil){if(u<e.state.pauseUntil)return;e.state.pauseUntil=null}var M=F(e.state.eventQueue),g=M.shift(),H=0;if(!(S<=(H=g.eventName===k||g.eventName===f?e.options.deleteSpeed==="natural"?T(40,80):e.options.deleteSpeed:e.options.delay==="natural"?T(120,160):e.options.delay))){var _=g.eventName,W=g.eventArgs;switch(e.logInDevMode({currentEvent:g,state:e.state,delay:H}),_){case B:case m:var K=W.character,le=W.node,ce=document.createTextNode(K),Q=ce;e.options.onCreateTextNode&&typeof e.options.onCreateTextNode=="function"&&(Q=e.options.onCreateTextNode(K,ce)),Q&&(le?le.appendChild(Q):e.state.elements.wrapper.appendChild(Q)),e.state.visibleNodes=[].concat(F(e.state.visibleNodes),[{type:Ce,character:K,node:Q}]);break;case f:M.unshift({eventName:k,eventArgs:{removingCharacterNode:!0}});break;case L:var Me=g.eventArgs.ms;e.state.pauseUntil=Date.now()+parseInt(Me);break;case O:var pe=g.eventArgs,ke=pe.cb,Le=pe.thisArg;ke.call(Le,{elements:e.state.elements});break;case v:var fe=g.eventArgs,Z=fe.node,ee=fe.parentNode;ee?ee.appendChild(Z):e.state.elements.wrapper.appendChild(Z),e.state.visibleNodes=[].concat(F(e.state.visibleNodes),[{type:J,node:Z,parentNode:ee||e.state.elements.wrapper}]);break;case A:var Oe=e.state.visibleNodes,te=W.speed,U=[];te&&U.push({eventName:w,eventArgs:{speed:te,temp:!0}});for(var de=0,Ae=Oe.length;de<Ae;de++)U.push({eventName:k,eventArgs:{removingCharacterNode:!1}});te&&U.push({eventName:w,eventArgs:{speed:e.options.deleteSpeed,temp:!0}}),M.unshift.apply(M,U);break;case k:var Pe=g.eventArgs.removingCharacterNode;if(e.state.visibleNodes.length){var ne=e.state.visibleNodes.pop(),Ne=ne.type,$=ne.node,Re=ne.character;e.options.onRemoveNode&&typeof e.options.onRemoveNode=="function"&&e.options.onRemoveNode({node:$,character:Re}),$&&$.parentNode.removeChild($),Ne===J&&Pe&&M.unshift({eventName:k,eventArgs:{}})}break;case w:e.options.deleteSpeed=g.eventArgs.speed;break;case P:e.options.delay=g.eventArgs.delay;break;case x:e.options.cursor=g.eventArgs.cursor,e.state.elements.cursor.innerHTML=g.eventArgs.cursor}e.options.loop&&(g.eventName===k||g.eventArgs&&g.eventArgs.temp||(e.state.calledEvents=[].concat(F(e.state.calledEvents),[g]))),e.state.eventQueue=M,e.state.lastFrameTime=u}}}),D)if(typeof D=="string"){var ue=document.querySelector(D);if(!ue)throw new Error("Could not find container element");this.state.elements.container=ue}else this.state.elements.container=D;ae&&(this.options=G(G({},this.options),ae)),this.state.initialOptions=G({},this.options),this.init()}var c,y,h;return c=p,(y=[{key:"init",value:function(){this.setupWrapperElement(),this.addEventToQueue(x,{cursor:this.options.cursor},!0),this.addEventToQueue(A,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(b(".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}"),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(D){this.options.devMode&&console.log(D)}}])&&se(c.prototype,y),h&&se(c,h),p}()},function(t,s){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(o){typeof window=="object"&&(i=window)}t.exports=i},,,,,,,function(t,s,i){(function(o){(function(){var r,l,a,T,b,m;typeof performance!="undefined"&&performance!==null&&performance.now?t.exports=function(){return performance.now()}:o!=null&&o.hrtime?(t.exports=function(){return(r()-b)/1e6},l=o.hrtime,T=(r=function(){var f;return 1e9*(f=l())[0]+f[1]})(),m=1e9*o.uptime(),b=T-m):Date.now?(t.exports=function(){return Date.now()-a},a=Date.now()):(t.exports=function(){return new Date().getTime()-a},a=new Date().getTime())}).call(this)}).call(this,i(12))},function(t,s){var i,o,r=t.exports={};function l(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function T(w){if(i===setTimeout)return setTimeout(w,0);if((i===l||!i)&&setTimeout)return i=setTimeout,setTimeout(w,0);try{return i(w,0)}catch(P){try{return i.call(null,w,0)}catch(x){return i.call(this,w,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:l}catch(w){i=l}try{o=typeof clearTimeout=="function"?clearTimeout:a}catch(w){o=a}})();var b,m=[],f=!1,A=-1;function k(){f&&b&&(f=!1,b.length?m=b.concat(m):A=-1,m.length&&L())}function L(){if(!f){var w=T(k);f=!0;for(var P=m.length;P;){for(b=m,m=[];++A<P;)b&&b[A].run();A=-1,P=m.length}b=null,f=!1,function(x){if(o===clearTimeout)return clearTimeout(x);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{o(x)}catch(B){try{return o.call(null,x)}catch(J){return o.call(this,x)}}}(w)}}function O(w,P){this.fun=w,this.array=P}function v(){}r.nextTick=function(w){var P=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)P[x-1]=arguments[x];m.push(new O(w,P)),m.length!==1||f||T(L)},O.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(w){return[]},r.binding=function(w){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(w){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}]).default})});var C;(function(t){t[t.StartScreen=0]="StartScreen",t[t.Playing=1]="Playing",t[t.Paused=2]="Paused",t[t.GameOver=3]="GameOver"})(C||(C={}));var R;(function(t){t[t.Idle=0]="Idle",t[t.Running=1]="Running"})(R||(R={}));var N;(function(t){t[t.Player=0]="Player",t[t.Meteor=4]="Meteor",t[t.Meteor2=5]="Meteor2",t[t.UFO=6]="UFO",t[t.Star=3]="Star",t[t.StarCaught=7]="StarCaught"})(N||(N={}));var j;(function(t){t[t.PlayerIdle=0]="PlayerIdle",t[t.PlayerRunLeft=1]="PlayerRunLeft",t[t.PlayerRunRight=2]="PlayerRunRight",t[t.Star=3]="Star",t[t.Meteor=4]="Meteor",t[t.Meteor2=5]="Meteor2",t[t.UFO=6]="UFO",t[t.StarCaught=7]="StarCaught"})(j||(j={}));var me=(t,s)=>!(t.input.left&&t.input.right)&&(t.input.left||t.input.right)?{...s,state:R.Running}:s,he=(t,s,i,o)=>{if(!(t.input.left&&t.input.right)){if(t.input.left&&s.xpos-5<i||t.input.right&&s.xpos*2+5>o)return s;if(t.input.left)return{...s,state:R.Running,xpos:s.xpos-s.speed};if(t.input.right)return{...s,state:R.Running,xpos:s.xpos+s.speed}}return{...s,state:R.Idle}};var ge={state:C.StartScreen,entities:[],score:0,input:{left:!1,right:!1},tickRate:6,tickSkip:!1,tickCount:0,spriteSize:64,spriteFrameCount:3,spawnWait:200,spawnTickCount:0,fallSpeedMultiplier:1},ve={type:N.Player,state:R.Idle,xpos:0,ypos:114,speed:4,frameIndex:0,bboxStartXOffset:0,bboxStartYOffset:0,bboxWidth:0,bboxHeight:0},n=ge,d=ve,ye=new Image;ye.src="images/gamespritesheet.png";var be=new Image;be.src="images/gameforeground.png";var z,q,X,re,I={maxStars:null,entityXpos:[],entityYpos:null,foregroundXpos:[]},He=t=>{z=Math.floor(-t.canvas.width*.5),q=Math.floor(-t.canvas.height*.5),X=t.canvas.width,re=t.canvas.height,d.xpos+5<z?d={...d,xpos:z+1}:d.xpos*2-5>X&&(d={...d,xpos:Math.floor(X*.5-1)}),document.activeElement!==t.canvas&&(n={...n,state:C.Paused});let s=n.spawnWait,i=n.fallSpeedMultiplier;switch(n.state===C.Playing&&(s>60&&(s-=.1),i<10&&(i+=5e-4)),d.state){case R.Idle:d=me(n,d);break;case R.Running:d=he(n,d,z,X);break}let o=[];n.entities.forEach(r=>{r.ypos>=t.canvas.height-n.spriteSize||r.cycled||o.push({...r,ypos:r.ypos+r.speed*n.fallSpeedMultiplier})}),n={...n,entities:o,spawnWait:s,fallSpeedMultiplier:i,spawnTickCount:n.spawnTickCount+1,tickCount:n.tickCount+1}},De=(t,s)=>{t.fillStyle="#161922",t.fillRect(z,q,X,re);let i=(o,r)=>{let l={image:ye,sWidth:n.spriteSize,sHeight:n.spriteSize,dx:Math.floor(o.xpos-n.spriteSize*.5),dy:Math.floor(o.ypos-n.spriteSize*.5),dWidth:n.spriteSize,dHeight:n.spriteSize},a=o.frameIndex*n.spriteSize,T=r*n.spriteSize;t.drawImage(l.image,a,T,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)};for(let o=0;o<I.foregroundXpos.length;o++)t.drawImage(be,I.foregroundXpos[o],128);switch(n.entities.forEach(o=>{i(o,o.type)}),d.state){case R.Idle:i(d,j.PlayerIdle);break;case R.Running:n.input.left&&n.input.right?i(d,j.PlayerIdle):n.input.left?i(d,j.PlayerRunLeft):n.input.right&&i(d,j.PlayerRunRight);break}if(t.fillStyle="white",t.font="24px VT323",t.fillText(`SCORE: ${n.score}`,z+12,q+24),(n.state===C.Paused||n.state===C.GameOver)&&(t.fillStyle="#161922",t.fillRect(z,q,X,re),n.state===C.Paused?(s.style.top="140",s.innerText="Paused"):n.state===C.GameOver&&(s.style.top="120",s.innerHTML=`Game Over <br> SCORE: ${n.score}`,n=ge,d=ve)),n.tickCount===n.tickRate){d.state===R.Idle&&n.tickSkip||(d={...d,frameIndex:d.frameIndex===n.spriteFrameCount-1?0:d.frameIndex+1});let o=[];n.entities.forEach(r=>{r.type!==N.StarCaught?n.tickSkip?o.push(r):o.push({...r,frameIndex:r.frameIndex===n.spriteFrameCount-1?0:r.frameIndex+1}):r.frameIndex===n.spriteFrameCount-1?o.push({...r,frameIndex:0,cycled:!0}):o.push({...r,frameIndex:r.frameIndex===n.spriteFrameCount-1?0:r.frameIndex+1})}),n={...n,entities:o,tickSkip:!n.tickSkip,tickCount:0}}},Fe=()=>{if(n.state===C.Playing&&n.spawnTickCount>=n.spawnWait){let t=[N.Meteor,N.Meteor2,N.UFO],s=[],i=0,o=I.maxStars||0;o<1&&(o=1);for(let r=0;r<I.entityXpos.length;r++){let l=t[Math.floor(Math.random()*t.length)],a=[];switch(l){case N.Meteor:a=[12,12,n.spriteSize-24,n.spriteSize-24];break;case N.Meteor2:a=[22,22,n.spriteSize-42,n.spriteSize-42];break;case N.UFO:a=[12,16,n.spriteSize-20,n.spriteSize-28];break}Math.random()>.5&&s.push({type:l,xpos:I.entityXpos[r],ypos:I.entityYpos||0,frameIndex:0,speed:1+Math.random(),bboxStartXOffset:a[0],bboxStartYOffset:a[1],bboxWidth:a[2],bboxHeight:a[3]})}for(let r=0;r<s.length&&i!==o;r++)Math.random()>.5&&(s[r]={...s[r],type:N.Star,speed:.5+Math.random(),bboxStartXOffset:16,bboxStartYOffset:14,bboxWidth:n.spriteSize-32,bboxHeight:n.spriteSize-28},i++);n={...n,entities:[...n.entities,...s],spawnTickCount:0}}},je=()=>{if(d.bboxWidth===0&&(d={...d,bboxStartXOffset:12,bboxStartYOffset:2,bboxWidth:n.spriteSize-25,bboxHeight:n.spriteSize-2}),!n.tickCount&&n.tickSkip){let t=d.xpos-n.spriteSize*.5+d.bboxStartXOffset,s=d.ypos-n.spriteSize*.5+d.bboxStartYOffset,i=[],o=!1;n.entities.forEach(r=>{let l=r.xpos-n.spriteSize*.5+r.bboxStartXOffset,a=r.ypos-n.spriteSize*.5+r.bboxStartYOffset;if(t<l+r.bboxWidth&&t+d.bboxWidth>l&&s<a+r.bboxHeight&&s+d.bboxHeight>a){if(r.type===N.Star){i.push({...r,type:N.StarCaught,frameIndex:0,cycled:!1}),o=!0,n={...n,score:n.score+1};return}else if(r.type!==N.StarCaught){n={...n,state:C.GameOver};return}}i.push(r)}),o&&(n={...n,entities:i})}},Se=(t,s,i)=>{i&&(t.canvas.style.cursor="default",n={...n,state:i}),Fe(),je(),He(t),De(t,s),n.state===C.Playing&&window.requestAnimationFrame(()=>Se(t,s))},ze=t=>{if(!t||!t.getContext)return null;let s=document.getElementById("game-text"),i=t.getContext("2d");if(i!==null&&s){s.innerText="Game Start";let o=()=>{window.requestAnimationFrame(()=>Se(i,s,C.Playing)),s.innerText=""};t.addEventListener("click",()=>{n.state!==C.Playing&&o()}),t.addEventListener("mouseenter",()=>{n.state!==C.Playing&&(s.classList.add("text-grow"),s.style.color="#CBD3FF",t.style.cursor="pointer",s.innerText==="Paused"&&(s.innerText="Unpause"))}),t.addEventListener("mouseout",()=>{n.state!==C.Playing&&(s.classList.remove("text-grow"),s.style.color="white",s.innerText==="Unpause"&&(s.innerText="Paused"))}),t.addEventListener("keydown",a=>{a.key!=="Tab"&&a.preventDefault(),n.state===C.Playing?((a.key==="ArrowLeft"||a.key==="a")&&(n={...n,input:{left:!0,right:n.input.right}}),(a.key==="ArrowRight"||a.key==="d")&&(n={...n,input:{left:n.input.left,right:!0}})):(a.key==="Enter"||a.key==="Spacebar"||a.key===" ")&&o()}),t.addEventListener("keyup",a=>{n.state===C.Playing&&((a.key==="ArrowLeft"||a.key==="a")&&(n={...n,input:{left:!1,right:n.input.right}}),(a.key==="ArrowRight"||a.key==="d")&&(n={...n,input:{left:n.input.left,right:!1}}))}),t.addEventListener("touchstart",a=>{n.state===C.Playing&&a.cancelable&&(a.preventDefault(),(a.targetTouches[0]?a.targetTouches[0].pageX:a.changedTouches[a.changedTouches.length-1].pageX)<d.xpos+window.innerWidth*.5?n={...n,input:{left:!0,right:!1}}:n={...n,input:{left:!1,right:!0}})}),t.addEventListener("touchend",()=>{n.state===C.Playing&&(n={...n,input:{left:!1,right:!1}})});let r=null,l=()=>{let a=document.getElementById("projects")?.clientWidth;a&&(i.canvas.height=320,i.canvas.width=a,i.translate(Math.floor(a*.5),Math.floor(i.canvas.height*.5)),r&&clearTimeout(r),r=setTimeout(()=>{let T=Math.ceil(i.canvas.width/(n.spriteSize*2)),b=[],m=[];for(let f=0;f<T;f++)b.push(Math.floor(-i.canvas.width*.5)+f*(n.spriteSize*2)+n.spriteSize*.5);for(let f=0;f<Math.ceil(i.canvas.width/n.spriteSize);f++)m.push(Math.floor(-i.canvas.width*.5)+f*n.spriteSize);I={maxStars:Math.floor(i.canvas.width/(n.spriteSize*5)),entityXpos:b,entityYpos:0-i.canvas.height*.5-n.spriteSize,foregroundXpos:m}},100))};l(),window.addEventListener("resize",l)}},we=ze;var Ie=()=>{let t=document.getElementById("contact-form");!t||t.addEventListener("submit",s=>{s.preventDefault();let i=document.getElementById("general-success"),o=document.getElementById("send"),r=document.getElementById("name-input"),l=document.getElementById("email-input"),a=document.getElementById("content-input"),T=document.getElementById("hp"),b=document.getElementById("name-error"),m=document.getElementById("email-error"),f=document.getElementById("content-error"),A=document.getElementById("general-error");if(console.log(`${r.value} ${l.value} ${a.value}`),T.value)return;b.style.display="none",m.style.display="none",f.style.display="none",i.style.display="none";let k=!1,L="is required.";r.value||(b.innerText=`Name ${L}`,b.style.display="block",k=!0),/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/.test(l.value)||(m.innerText="Invalid e-mail.",m.style.display="block",k=!0),l.value||(m.innerText=`E-Mail ${L}`,m.style.display="block",k=!0),a.value||(f.innerText=`A message ${L}`,f.style.display="block",k=!0),k||(o.innerText="Sending...",o.disabled=!0,fetch("https://portfolio-backend-one.vercel.app/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.value,email:l.value,content:a.value})}).then(v=>{if(!v.ok)throw new Error(`HTTP Status ${v.status}`);return v.json()}).then(v=>{console.log(v),A.style.display="none",i.innerText="Message successfully sent!",i.style.display="block",r.value="",l.value="",a.value=""}).catch(v=>{console.error(`Error: ${JSON.stringify(v)}`),A.innerText="Looks like something went wrong serverside.",A.style.display="block"}).finally(()=>{o.innerText="Send Message",o.disabled=!1}))})},Ee=Ie;var We=Te();window.addEventListener("DOMContentLoaded",()=>{(()=>{let i=document.getElementById("cycle"),o=["Interactive Experiences","Functional Websites","Your Next Dream Project"],r=1500;new We(i,{loop:!0,delay:75,deleteSpeed:25}).pauseFor(r).typeString(o[0]).pauseFor(r*2).deleteChars(o[0].length).pauseFor(r).typeString(o[1]).pauseFor(r*2).deleteChars(o[1].length).pauseFor(r).typeString(o[2]).pauseFor(r*2).deleteChars(o[2].length).pauseFor(r).start()})();let s=document.getElementsByClassName("js-only");for(let i=0;i<s.length;i++)s[i].classList.remove("js-only");we(document.getElementById("game")),Ee()});})();
//# sourceMappingURL=script.js.map
