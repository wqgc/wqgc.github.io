(()=>{var Ht=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var vt=Ht((Y,ot)=>{(function(t,r){typeof Y=="object"&&typeof ot=="object"?ot.exports=r():typeof define=="function"&&define.amd?define("Typewriter",[],r):typeof Y=="object"?Y.Typewriter=r():t.Typewriter=r()})(typeof self!="undefined"?self:Y,function(){return function(t){var r={};function e(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=t,e.c=r,e.d=function(o,s,a){e.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},e.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,s){if(1&s&&(o=e(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var i in o)e.d(a,i,function(f){return o[f]}.bind(null,i));return a},e.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(s,"a",s),s},e.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},e.p="",e(e.s=3)}([,function(t,r,e){(function(o){for(var s=e(11),a=typeof window=="undefined"?o:window,i=["moz","webkit"],f="AnimationFrame",g=a["request"+f],p=a["cancel"+f]||a["cancelRequest"+f],h=0;!g&&h<i.length;h++)g=a[i[h]+"Request"+f],p=a[i[h]+"Cancel"+f]||a[i[h]+"CancelRequest"+f];if(!g||!p){var O=0,M=0,k=[];g=function(L){if(k.length===0){var S=s(),E=Math.max(0,1e3/60-(S-O));O=E+S,setTimeout(function(){var A=k.slice(0);k.length=0;for(var x=0;x<A.length;x++)if(!A[x].cancelled)try{A[x].callback(O)}catch(B){setTimeout(function(){throw B},0)}},Math.round(E))}return k.push({handle:++M,callback:L,cancelled:!1}),M},p=function(L){for(var S=0;S<k.length;S++)k[S].handle===L&&(k[S].cancelled=!0)}}t.exports=function(L){return g.call(a,L)},t.exports.cancel=function(){p.apply(a,arguments)},t.exports.polyfill=function(L){L||(L=a),L.requestAnimationFrame=g,L.cancelAnimationFrame=p}}).call(this,e(4))},,function(t,r,e){"use strict";e.r(r),e.d(r,"default",function(){return Ct});var o=e(1),s=e.n(o),a=function(d){return new RegExp(/<[a-z][\s\S]*>/i).test(d)},i=function(d){var l=document.createElement("div");return l.innerHTML=d,l.childNodes},f=function(d,l){return Math.floor(Math.random()*(l-d+1))+d},g=function(d){var l=document.createElement("style");l.appendChild(document.createTextNode(d)),document.head.appendChild(l)},p="TYPE_CHARACTER",h="REMOVE_CHARACTER",O="REMOVE_ALL",M="REMOVE_LAST_VISIBLE_NODE",k="PAUSE_FOR",L="CALL_FUNCTION",S="ADD_HTML_TAG_ELEMENT",E="CHANGE_DELETE_SPEED",A="CHANGE_DELAY",x="CHANGE_CURSOR",B="PASTE_STRING",V="HTML_TAG",xt="TEXT_NODE";function st(d,l){var b=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);l&&(m=m.filter(function(F){return Object.getOwnPropertyDescriptor(d,F).enumerable})),b.push.apply(b,m)}return b}function U(d){for(var l=1;l<arguments.length;l++){var b=arguments[l]!=null?arguments[l]:{};l%2?st(Object(b),!0).forEach(function(m){T(d,m,b[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(b)):st(Object(b)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(b,m))})}return d}function D(d){return function(l){if(Array.isArray(l))return K(l)}(d)||function(l){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(l))return Array.from(l)}(d)||function(l,b){if(!!l){if(typeof l=="string")return K(l,b);var m=Object.prototype.toString.call(l).slice(8,-1);if(m==="Object"&&l.constructor&&(m=l.constructor.name),m==="Map"||m==="Set")return Array.from(l);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return K(l,b)}}(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function K(d,l){(l==null||l>d.length)&&(l=d.length);for(var b=0,m=new Array(l);b<l;b++)m[b]=d[b];return m}function it(d,l){for(var b=0;b<l.length;b++){var m=l[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function T(d,l,b){return l in d?Object.defineProperty(d,l,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[l]=b,d}var Ct=function(){function d(F,at){var n=this;if(function(u,w){if(!(u instanceof w))throw new TypeError("Cannot call a class as a function")}(this,d),T(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),T(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),T(this,"setupWrapperElement",function(){n.state.elements.container&&(n.state.elements.wrapper.className=n.options.wrapperClassName,n.state.elements.cursor.className=n.options.cursorClassName,n.state.elements.cursor.innerHTML=n.options.cursor,n.state.elements.container.innerHTML="",n.state.elements.container.appendChild(n.state.elements.wrapper),n.state.elements.container.appendChild(n.state.elements.cursor))}),T(this,"start",function(){return n.state.eventLoopPaused=!1,n.runEventLoop(),n}),T(this,"pause",function(){return n.state.eventLoopPaused=!0,n}),T(this,"stop",function(){return n.state.eventLoop&&(Object(o.cancel)(n.state.eventLoop),n.state.eventLoop=null),n}),T(this,"pauseFor",function(u){return n.addEventToQueue(k,{ms:u}),n}),T(this,"typeOutAllStrings",function(){return typeof n.options.strings=="string"?(n.typeString(n.options.strings).pauseFor(n.options.pauseFor),n):(n.options.strings.forEach(function(u){n.typeString(u).pauseFor(n.options.pauseFor).deleteAll(n.options.deleteSpeed)}),n)}),T(this,"typeString",function(u){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(a(u))return n.typeOutHTMLString(u,w);if(u){var C=n.options||{},y=C.stringSplitter,H=typeof y=="function"?y(u):u.split("");n.typeCharacters(H,w)}return n}),T(this,"pasteString",function(u){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return a(u)?n.typeOutHTMLString(u,w,!0):(u&&n.addEventToQueue(B,{character:u,node:w}),n)}),T(this,"typeOutHTMLString",function(u){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,C=arguments.length>2?arguments[2]:void 0,y=i(u);if(y.length>0)for(var H=0;H<y.length;H++){var _=y[H],W=_.innerHTML;_&&_.nodeType!==3?(_.innerHTML="",n.addEventToQueue(S,{node:_,parentNode:w}),C?n.pasteString(W,_):n.typeString(W,_)):_.textContent&&(C?n.pasteString(_.textContent,w):n.typeString(_.textContent,w))}return n}),T(this,"deleteAll",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return n.addEventToQueue(O,{speed:u}),n}),T(this,"changeDeleteSpeed",function(u){if(!u)throw new Error("Must provide new delete speed");return n.addEventToQueue(E,{speed:u}),n}),T(this,"changeDelay",function(u){if(!u)throw new Error("Must provide new delay");return n.addEventToQueue(A,{delay:u}),n}),T(this,"changeCursor",function(u){if(!u)throw new Error("Must provide new cursor");return n.addEventToQueue(x,{cursor:u}),n}),T(this,"deleteChars",function(u){if(!u)throw new Error("Must provide amount of characters to delete");for(var w=0;w<u;w++)n.addEventToQueue(h);return n}),T(this,"callFunction",function(u,w){if(!u||typeof u!="function")throw new Error("Callbak must be a function");return n.addEventToQueue(L,{cb:u,thisArg:w}),n}),T(this,"typeCharacters",function(u){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!u||!Array.isArray(u))throw new Error("Characters must be an array");return u.forEach(function(C){n.addEventToQueue(p,{character:C,node:w})}),n}),T(this,"removeCharacters",function(u){if(!u||!Array.isArray(u))throw new Error("Characters must be an array");return u.forEach(function(){n.addEventToQueue(h)}),n}),T(this,"addEventToQueue",function(u,w){var C=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return n.addEventToStateProperty(u,w,C,"eventQueue")}),T(this,"addReverseCalledEvent",function(u,w){var C=arguments.length>2&&arguments[2]!==void 0&&arguments[2],y=n.options.loop;return y?n.addEventToStateProperty(u,w,C,"reverseCalledEvents"):n}),T(this,"addEventToStateProperty",function(u,w){var C=arguments.length>2&&arguments[2]!==void 0&&arguments[2],y=arguments.length>3?arguments[3]:void 0,H={eventName:u,eventArgs:w||{}};return n.state[y]=C?[H].concat(D(n.state[y])):[].concat(D(n.state[y]),[H]),n}),T(this,"runEventLoop",function(){n.state.lastFrameTime||(n.state.lastFrameTime=Date.now());var u=Date.now(),w=u-n.state.lastFrameTime;if(!n.state.eventQueue.length){if(!n.options.loop)return;n.state.eventQueue=D(n.state.calledEvents),n.state.calledEvents=[],n.options=U({},n.state.initialOptions)}if(n.state.eventLoop=s()(n.runEventLoop),!n.state.eventLoopPaused){if(n.state.pauseUntil){if(u<n.state.pauseUntil)return;n.state.pauseUntil=null}var C=D(n.state.eventQueue),y=C.shift(),H=0;if(!(w<=(H=y.eventName===M||y.eventName===h?n.options.deleteSpeed==="natural"?f(40,80):n.options.deleteSpeed:n.options.delay==="natural"?f(120,160):n.options.delay))){var _=y.eventName,W=y.eventArgs;switch(n.logInDevMode({currentEvent:y,state:n.state,delay:H}),_){case B:case p:var Z=W.character,lt=W.node,ct=document.createTextNode(Z),Q=ct;n.options.onCreateTextNode&&typeof n.options.onCreateTextNode=="function"&&(Q=n.options.onCreateTextNode(Z,ct)),Q&&(lt?lt.appendChild(Q):n.state.elements.wrapper.appendChild(Q)),n.state.visibleNodes=[].concat(D(n.state.visibleNodes),[{type:xt,character:Z,node:Q}]);break;case h:C.unshift({eventName:M,eventArgs:{removingCharacterNode:!0}});break;case k:var Mt=y.eventArgs.ms;n.state.pauseUntil=Date.now()+parseInt(Mt);break;case L:var ft=y.eventArgs,kt=ft.cb,Lt=ft.thisArg;kt.call(Lt,{elements:n.state.elements});break;case S:var dt=y.eventArgs,G=dt.node,tt=dt.parentNode;tt?tt.appendChild(G):n.state.elements.wrapper.appendChild(G),n.state.visibleNodes=[].concat(D(n.state.visibleNodes),[{type:V,node:G,parentNode:tt||n.state.elements.wrapper}]);break;case O:var Ot=n.state.visibleNodes,et=W.speed,q=[];et&&q.push({eventName:E,eventArgs:{speed:et,temp:!0}});for(var pt=0,At=Ot.length;pt<At;pt++)q.push({eventName:M,eventArgs:{removingCharacterNode:!1}});et&&q.push({eventName:E,eventArgs:{speed:n.options.deleteSpeed,temp:!0}}),C.unshift.apply(C,q);break;case M:var Nt=y.eventArgs.removingCharacterNode;if(n.state.visibleNodes.length){var nt=n.state.visibleNodes.pop(),Rt=nt.type,$=nt.node,_t=nt.character;n.options.onRemoveNode&&typeof n.options.onRemoveNode=="function"&&n.options.onRemoveNode({node:$,character:_t}),$&&$.parentNode.removeChild($),Rt===V&&Nt&&C.unshift({eventName:M,eventArgs:{}})}break;case E:n.options.deleteSpeed=y.eventArgs.speed;break;case A:n.options.delay=y.eventArgs.delay;break;case x:n.options.cursor=y.eventArgs.cursor,n.state.elements.cursor.innerHTML=y.eventArgs.cursor}n.options.loop&&(y.eventName===M||y.eventArgs&&y.eventArgs.temp||(n.state.calledEvents=[].concat(D(n.state.calledEvents),[y]))),n.state.eventQueue=C,n.state.lastFrameTime=u}}}),F)if(typeof F=="string"){var ut=document.querySelector(F);if(!ut)throw new Error("Could not find container element");this.state.elements.container=ut}else this.state.elements.container=F;at&&(this.options=U(U({},this.options),at)),this.state.initialOptions=U({},this.options),this.init()}var l,b,m;return l=d,(b=[{key:"init",value:function(){this.setupWrapperElement(),this.addEventToQueue(x,{cursor:this.options.cursor},!0),this.addEventToQueue(O,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(g(".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}"),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(F){this.options.devMode&&console.log(F)}}])&&it(l.prototype,b),m&&it(l,m),d}()},function(t,r){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(o){typeof window=="object"&&(e=window)}t.exports=e},,,,,,,function(t,r,e){(function(o){(function(){var s,a,i,f,g,p;typeof performance!="undefined"&&performance!==null&&performance.now?t.exports=function(){return performance.now()}:o!=null&&o.hrtime?(t.exports=function(){return(s()-g)/1e6},a=o.hrtime,f=(s=function(){var h;return 1e9*(h=a())[0]+h[1]})(),p=1e9*o.uptime(),g=f-p):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return new Date().getTime()-i},i=new Date().getTime())}).call(this)}).call(this,e(12))},function(t,r){var e,o,s=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function f(E){if(e===setTimeout)return setTimeout(E,0);if((e===a||!e)&&setTimeout)return e=setTimeout,setTimeout(E,0);try{return e(E,0)}catch(A){try{return e.call(null,E,0)}catch(x){return e.call(this,E,0)}}}(function(){try{e=typeof setTimeout=="function"?setTimeout:a}catch(E){e=a}try{o=typeof clearTimeout=="function"?clearTimeout:i}catch(E){o=i}})();var g,p=[],h=!1,O=-1;function M(){h&&g&&(h=!1,g.length?p=g.concat(p):O=-1,p.length&&k())}function k(){if(!h){var E=f(M);h=!0;for(var A=p.length;A;){for(g=p,p=[];++O<A;)g&&g[O].run();O=-1,A=p.length}g=null,h=!1,function(x){if(o===clearTimeout)return clearTimeout(x);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{o(x)}catch(B){try{return o.call(null,x)}catch(V){return o.call(this,x)}}}(E)}}function L(E,A){this.fun=E,this.array=A}function S(){}s.nextTick=function(E){var A=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)A[x-1]=arguments[x];p.push(new L(E,A)),p.length!==1||h||f(k)},L.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=S,s.addListener=S,s.once=S,s.off=S,s.removeListener=S,s.removeAllListeners=S,s.emit=S,s.prependListener=S,s.prependOnceListener=S,s.listeners=function(E){return[]},s.binding=function(E){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(E){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}}]).default})});var v;(function(t){t[t.StartScreen=0]="StartScreen",t[t.Playing=1]="Playing",t[t.Paused=2]="Paused",t[t.GameOver=3]="GameOver"})(v||(v={}));var R;(function(t){t[t.Idle=0]="Idle",t[t.Running=1]="Running"})(R||(R={}));var N;(function(t){t[t.Player=0]="Player",t[t.Meteor=4]="Meteor",t[t.Meteor2=5]="Meteor2",t[t.UFO=6]="UFO",t[t.Star=3]="Star",t[t.StarCaught=7]="StarCaught"})(N||(N={}));var j;(function(t){t[t.PlayerIdle=0]="PlayerIdle",t[t.PlayerRunLeft=1]="PlayerRunLeft",t[t.PlayerRunRight=2]="PlayerRunRight",t[t.Star=3]="Star",t[t.Meteor=4]="Meteor",t[t.Meteor2=5]="Meteor2",t[t.UFO=6]="UFO",t[t.StarCaught=7]="StarCaught"})(j||(j={}));var ht=(t,r)=>!(t.input.left&&t.input.right)&&(t.input.left||t.input.right)?{...r,state:R.Running}:r,gt=(t,r,e,o)=>{if(!(t.input.left&&t.input.right)){if(t.input.left&&r.xpos-5<e||t.input.right&&r.xpos*2+5>o)return r;if(t.input.left)return{...r,state:R.Running,xpos:r.xpos-r.speed};if(t.input.right)return{...r,state:R.Running,xpos:r.xpos+r.speed}}return{...r,state:R.Idle}};var mt={state:v.StartScreen,entities:[],score:0,input:{left:!1,right:!1},tickRate:6,tickSkip:!1,tickCount:0,spriteSize:64,spriteFrameCount:3,spawnWait:200,spawnTickCount:0,fallSpeedMultiplier:1},yt={type:N.Player,state:R.Idle,xpos:0,ypos:114,speed:4,frameIndex:0,bboxStartXOffset:0,bboxStartYOffset:0,bboxWidth:0,bboxHeight:0},c=mt,z=yt,St=new Image;St.src="images/gamespritesheet.png";var bt=new Image;bt.src="images/gameforeground.png";var I,J,X,rt,P={maxStars:null,entityXpos:[],entityYpos:null,foregroundXpos:[]},Ft=(t,r,e)=>{I=Math.floor(-t.canvas.width*.5),J=Math.floor(-t.canvas.height*.5),X=t.canvas.width,rt=t.canvas.height,e.xpos+5<I?e={...e,xpos:I+1}:e.xpos*2-5>X&&(e={...e,xpos:Math.floor(X*.5-1)}),document.activeElement!==t.canvas&&(r={...r,state:v.Paused});let o=r.spawnWait,s=r.fallSpeedMultiplier;switch(r.state===v.Playing&&(o>60&&(o-=.1),s<10&&(s+=5e-4)),e.state){case R.Idle:e=ht(r,e);break;case R.Running:e=gt(r,e,I,X);break}let a=[];return r.entities.forEach(i=>{i.ypos>=t.canvas.height-r.spriteSize||i.cycled||a.push({...i,ypos:i.ypos+i.speed*r.fallSpeedMultiplier})}),r={...r,entities:a,spawnWait:o,fallSpeedMultiplier:s,spawnTickCount:r.spawnTickCount+1,tickCount:r.tickCount+1},{game:r,player:e}},Dt=(t,r,e,o)=>{t.fillStyle="#161922",t.fillRect(I,J,X,rt);let s=(a,i)=>{let f={image:St,sWidth:e.spriteSize,sHeight:e.spriteSize,dx:Math.floor(a.xpos-e.spriteSize*.5),dy:Math.floor(a.ypos-e.spriteSize*.5),dWidth:e.spriteSize,dHeight:e.spriteSize},g=a.frameIndex*e.spriteSize,p=i*e.spriteSize;t.drawImage(f.image,g,p,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)};for(let a=0;a<P.foregroundXpos.length;a++)t.drawImage(bt,P.foregroundXpos[a],128);switch(e.entities.forEach(a=>{s(a,a.type)}),o.state){case R.Idle:s(o,j.PlayerIdle);break;case R.Running:e.input.left&&e.input.right?s(o,j.PlayerIdle):e.input.left?s(o,j.PlayerRunLeft):e.input.right&&s(o,j.PlayerRunRight);break}if(t.fillStyle="white",t.font="24px VT323",t.fillText(`SCORE: ${e.score}`,I+12,J+24),(e.state===v.Paused||e.state===v.GameOver)&&(t.fillStyle="#161922",t.fillRect(I,J,X,rt),e.state===v.Paused?(r.style.top="140px",r.innerText="Paused"):e.state===v.GameOver&&(r.style.top="120px",r.innerHTML=`Game Over <br> SCORE: ${e.score}`,e=mt,o=yt)),e.tickCount===e.tickRate){o.state===R.Idle&&e.tickSkip||(o={...o,frameIndex:o.frameIndex===e.spriteFrameCount-1?0:o.frameIndex+1});let a=[];e.entities.forEach(i=>{i.type!==N.StarCaught?e.tickSkip?a.push(i):a.push({...i,frameIndex:i.frameIndex===e.spriteFrameCount-1?0:i.frameIndex+1}):i.frameIndex===e.spriteFrameCount-1?a.push({...i,frameIndex:0,cycled:!0}):a.push({...i,frameIndex:i.frameIndex===e.spriteFrameCount-1?0:i.frameIndex+1})}),e={...e,entities:a,tickSkip:!e.tickSkip,tickCount:0}}return{game:e,player:o}},jt=t=>{if(t.state===v.Playing&&t.spawnTickCount>=t.spawnWait){let r=[N.Meteor,N.Meteor2,N.UFO],e=[],o=0,s=P.maxStars||0;s<1&&(s=1);for(let a=0;a<P.entityXpos.length;a++){let i=r[Math.floor(Math.random()*r.length)],f=[];switch(i){case N.Meteor:f=[12,12,t.spriteSize-24,t.spriteSize-24];break;case N.Meteor2:f=[22,22,t.spriteSize-42,t.spriteSize-42];break;case N.UFO:f=[12,16,t.spriteSize-20,t.spriteSize-28];break}Math.random()>.5&&e.push({type:i,xpos:P.entityXpos[a],ypos:P.entityYpos||0,frameIndex:0,speed:1+Math.random(),bboxStartXOffset:f[0],bboxStartYOffset:f[1],bboxWidth:f[2],bboxHeight:f[3]})}for(let a=0;a<e.length&&o!==s;a++)Math.random()>.5&&(e[a]={...e[a],type:N.Star,speed:.5+Math.random(),bboxStartXOffset:16,bboxStartYOffset:14,bboxWidth:t.spriteSize-32,bboxHeight:t.spriteSize-28},o++);t={...t,entities:[...t.entities,...e],spawnTickCount:0}}return t},zt=(t,r)=>{if(r.bboxWidth===0&&(r={...r,bboxStartXOffset:12,bboxStartYOffset:2,bboxWidth:t.spriteSize-25,bboxHeight:t.spriteSize-2}),!t.tickCount&&t.tickSkip){let e=r.xpos-t.spriteSize*.5+r.bboxStartXOffset,o=r.ypos-t.spriteSize*.5+r.bboxStartYOffset,s=[],a=!1;t.entities.forEach(i=>{let f=i.xpos-t.spriteSize*.5+i.bboxStartXOffset,g=i.ypos-t.spriteSize*.5+i.bboxStartYOffset;if(e<f+i.bboxWidth&&e+r.bboxWidth>f&&o<g+i.bboxHeight&&o+r.bboxHeight>g){if(i.type===N.Star){s.push({...i,type:N.StarCaught,frameIndex:0,cycled:!1}),a=!0,t={...t,score:t.score+1};return}else if(i.type!==N.StarCaught){t={...t,state:v.GameOver};return}}s.push(i)}),a&&(t={...t,entities:s})}return{game:t,player:r}},wt=(t,r,e)=>{e&&(t.canvas.style.cursor="default",c={...c,state:e}),c=jt(c),{game:c,player:z}=zt(c,z),{game:c,player:z}=Ft(t,c,z),{game:c,player:z}=Dt(t,r,c,z),c.state===v.Playing&&window.requestAnimationFrame(()=>wt(t,r))},It=t=>{if(!t||!t.getContext)return null;let r=document.getElementById("game-text"),e=t.getContext("2d");if(e!==null&&r){r.innerText="Game Start";let o=()=>{window.requestAnimationFrame(()=>wt(e,r,v.Playing)),r.innerText=""};t.addEventListener("click",()=>{c.state!==v.Playing&&o()}),t.addEventListener("mouseenter",()=>{c.state!==v.Playing&&(r.classList.add("text-grow"),r.style.color="#CBD3FF",t.style.cursor="pointer",r.innerText==="Paused"&&(r.innerText="Unpause"))}),t.addEventListener("mouseout",()=>{c.state!==v.Playing&&(r.classList.remove("text-grow"),r.style.color="white",r.innerText==="Unpause"&&(r.innerText="Paused"))}),t.addEventListener("keydown",i=>{i.key!=="Tab"&&i.preventDefault(),c.state===v.Playing?((i.key==="ArrowLeft"||i.key==="a")&&(c={...c,input:{left:!0,right:c.input.right}}),(i.key==="ArrowRight"||i.key==="d")&&(c={...c,input:{left:c.input.left,right:!0}})):(i.key==="Enter"||i.key==="Spacebar"||i.key===" ")&&o()}),t.addEventListener("keyup",i=>{c.state===v.Playing&&((i.key==="ArrowLeft"||i.key==="a")&&(c={...c,input:{left:!1,right:c.input.right}}),(i.key==="ArrowRight"||i.key==="d")&&(c={...c,input:{left:c.input.left,right:!1}}))}),t.addEventListener("touchstart",i=>{c.state===v.Playing&&i.cancelable&&(i.preventDefault(),(i.targetTouches[0]?i.targetTouches[0].pageX:i.changedTouches[i.changedTouches.length-1].pageX)<z.xpos+window.innerWidth*.5?c={...c,input:{left:!0,right:!1}}:c={...c,input:{left:!1,right:!0}})}),t.addEventListener("touchend",()=>{c.state===v.Playing&&(c={...c,input:{left:!1,right:!1}})});let s=null,a=()=>{let i=document.getElementById("projects")?.clientWidth;i&&(e.canvas.height=320,e.canvas.width=i,e.translate(Math.floor(i*.5),Math.floor(e.canvas.height*.5)),s&&clearTimeout(s),s=setTimeout(()=>{let f=Math.ceil(e.canvas.width/(c.spriteSize*2)),g=[],p=[];for(let h=0;h<f;h++)g.push(Math.floor(-e.canvas.width*.5)+h*(c.spriteSize*2)+c.spriteSize*.5);for(let h=0;h<Math.ceil(e.canvas.width/c.spriteSize);h++)p.push(Math.floor(-e.canvas.width*.5)+h*c.spriteSize);P={maxStars:Math.floor(e.canvas.width/(c.spriteSize*5)),entityXpos:g,entityYpos:0-e.canvas.height*.5-c.spriteSize,foregroundXpos:p}},100))};a(),window.addEventListener("resize",a)}},Et=It;var Pt=()=>{let t=document.getElementById("contact-form");!t||t.addEventListener("submit",r=>{r.preventDefault();let e=document.getElementById("general-success"),o=document.getElementById("send"),s=document.getElementById("name-input"),a=document.getElementById("email-input"),i=document.getElementById("content-input"),f=document.getElementById("hp"),g=document.getElementById("name-error"),p=document.getElementById("email-error"),h=document.getElementById("content-error"),O=document.getElementById("general-error");if(f.value)return;g.style.display="none",p.style.display="none",h.style.display="none",e.style.display="none";let M=!1,k="is required.";s.value||(g.innerText=`Name ${k}`,g.style.display="block",M=!0),/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/.test(a.value)||(p.innerText="Invalid e-mail.",p.style.display="block",M=!0),a.value||(p.innerText=`E-Mail ${k}`,p.style.display="block",M=!0),i.value||(h.innerText=`A message ${k}`,h.style.display="block",M=!0),M||(o.innerText="Sending...",o.disabled=!0,fetch("https://portfolio-backend-one.vercel.app/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.value,email:a.value,content:i.value})}).then(S=>{if(!S.ok)throw new Error(`HTTP Status ${S.status}`);return S.json()}).then(S=>{O.style.display="none",e.innerText="Message successfully sent!",e.style.display="block",s.value="",a.value="",i.value=""}).catch(S=>{console.error(`Error: ${JSON.stringify(S)}`),O.innerText="Looks like something went wrong serverside.",O.style.display="block"}).finally(()=>{o.innerText="Send Message",o.disabled=!1}))})},Tt=Pt;var Wt=vt();window.addEventListener("DOMContentLoaded",()=>{(()=>{let e=document.getElementById("cycle"),o=["Interactive Experiences","Functional Websites","Your Next Dream Project"],s=1500;new Wt(e,{loop:!0,delay:75,deleteSpeed:25}).pauseFor(s).typeString(o[0]).pauseFor(s*2).deleteChars(o[0].length).pauseFor(s).typeString(o[1]).pauseFor(s*2).deleteChars(o[1].length).pauseFor(s).typeString(o[2]).pauseFor(s*2).deleteChars(o[2].length).pauseFor(s).start()})();let r=document.getElementsByClassName("js-only");for(let e=0;e<r.length;e++)r[e].classList.remove("js-only");Et(document.getElementById("game")),Tt()});})();
//# sourceMappingURL=script.js.map
