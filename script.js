(()=>{var _e=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var Te=_e((G,ie)=>{(function(t,a){typeof G=="object"&&typeof ie=="object"?ie.exports=a():typeof define=="function"&&define.amd?define("Typewriter",[],a):typeof G=="object"?G.Typewriter=a():t.Typewriter=a()})(typeof self!="undefined"?self:G,function(){return function(t){var a={};function o(i){if(a[i])return a[i].exports;var r=a[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=a,o.d=function(i,r,p){o.o(i,r)||Object.defineProperty(i,r,{enumerable:!0,get:p})},o.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,r){if(1&r&&(i=o(i)),8&r||4&r&&typeof i=="object"&&i&&i.__esModule)return i;var p=Object.create(null);if(o.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:i}),2&r&&typeof i!="string")for(var s in i)o.d(p,s,function(T){return i[T]}.bind(null,s));return p},o.n=function(i){var r=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(r,"a",r),r},o.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)},o.p="",o(o.s=3)}([,function(t,a,o){(function(i){for(var r=o(11),p=typeof window=="undefined"?i:window,s=["moz","webkit"],T="AnimationFrame",w=p["request"+T],y=p["cancel"+T]||p["cancelRequest"+T],m=0;!w&&m<s.length;m++)w=p[s[m]+"Request"+T],y=p[s[m]+"Cancel"+T]||p[s[m]+"CancelRequest"+T];if(!w||!y){var N=0,R=0,L=[];w=function(A){if(L.length===0){var C=r(),b=Math.max(0,1e3/60-(C-N));N=b+C,setTimeout(function(){var M=L.slice(0);L.length=0;for(var x=0;x<M.length;x++)if(!M[x].cancelled)try{M[x].callback(N)}catch(Y){setTimeout(function(){throw Y},0)}},Math.round(b))}return L.push({handle:++R,callback:A,cancelled:!1}),R},y=function(A){for(var C=0;C<L.length;C++)L[C].handle===A&&(L[C].cancelled=!0)}}t.exports=function(A){return w.call(p,A)},t.exports.cancel=function(){y.apply(p,arguments)},t.exports.polyfill=function(A){A||(A=p),A.requestAnimationFrame=w,A.cancelAnimationFrame=y}}).call(this,o(4))},,function(t,a,o){"use strict";o.r(a),o.d(a,"default",function(){return Ce});var i=o(1),r=o.n(i),p=function(c){return new RegExp(/<[a-z][\s\S]*>/i).test(c)},s=function(c){var l=document.createElement("div");return l.innerHTML=c,l.childNodes},T=function(c,l){return Math.floor(Math.random()*(l-c+1))+c},w=function(c){var l=document.createElement("style");l.appendChild(document.createTextNode(c)),document.head.appendChild(l)},y="TYPE_CHARACTER",m="REMOVE_CHARACTER",N="REMOVE_ALL",R="REMOVE_LAST_VISIBLE_NODE",L="PAUSE_FOR",A="CALL_FUNCTION",C="ADD_HTML_TAG_ELEMENT",b="CHANGE_DELETE_SPEED",M="CHANGE_DELAY",x="CHANGE_CURSOR",Y="PASTE_STRING",J="HTML_TAG",Ee="TEXT_NODE";function oe(c,l){var g=Object.keys(c);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(c);l&&(d=d.filter(function(D){return Object.getOwnPropertyDescriptor(c,D).enumerable})),g.push.apply(g,d)}return g}function I(c){for(var l=1;l<arguments.length;l++){var g=arguments[l]!=null?arguments[l]:{};l%2?oe(Object(g),!0).forEach(function(d){S(c,d,g[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(g)):oe(Object(g)).forEach(function(d){Object.defineProperty(c,d,Object.getOwnPropertyDescriptor(g,d))})}return c}function F(c){return function(l){if(Array.isArray(l))return $(l)}(c)||function(l){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(l))return Array.from(l)}(c)||function(l,g){if(!!l){if(typeof l=="string")return $(l,g);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(l);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return $(l,g)}}(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(c,l){(l==null||l>c.length)&&(l=c.length);for(var g=0,d=new Array(l);g<l;g++)d[g]=c[g];return d}function ae(c,l){for(var g=0;g<l.length;g++){var d=l[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function S(c,l,g){return l in c?Object.defineProperty(c,l,{value:g,enumerable:!0,configurable:!0,writable:!0}):c[l]=g,c}var Ce=function(){function c(D,se){var e=this;if(function(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}(this,c),S(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),S(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),S(this,"setupWrapperElement",function(){e.state.elements.container&&(e.state.elements.wrapper.className=e.options.wrapperClassName,e.state.elements.cursor.className=e.options.cursorClassName,e.state.elements.cursor.innerHTML=e.options.cursor,e.state.elements.container.innerHTML="",e.state.elements.container.appendChild(e.state.elements.wrapper),e.state.elements.container.appendChild(e.state.elements.cursor))}),S(this,"start",function(){return e.state.eventLoopPaused=!1,e.runEventLoop(),e}),S(this,"pause",function(){return e.state.eventLoopPaused=!0,e}),S(this,"stop",function(){return e.state.eventLoop&&(Object(i.cancel)(e.state.eventLoop),e.state.eventLoop=null),e}),S(this,"pauseFor",function(u){return e.addEventToQueue(L,{ms:u}),e}),S(this,"typeOutAllStrings",function(){return typeof e.options.strings=="string"?(e.typeString(e.options.strings).pauseFor(e.options.pauseFor),e):(e.options.strings.forEach(function(u){e.typeString(u).pauseFor(e.options.pauseFor).deleteAll(e.options.deleteSpeed)}),e)}),S(this,"typeString",function(u){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(p(u))return e.typeOutHTMLString(u,v);if(u){var k=e.options||{},h=k.stringSplitter,z=typeof h=="function"?h(u):u.split("");e.typeCharacters(z,v)}return e}),S(this,"pasteString",function(u){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return p(u)?e.typeOutHTMLString(u,v,!0):(u&&e.addEventToQueue(Y,{character:u,node:v}),e)}),S(this,"typeOutHTMLString",function(u){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,k=arguments.length>2?arguments[2]:void 0,h=s(u);if(h.length>0)for(var z=0;z<h.length;z++){var _=h[z],X=_.innerHTML;_&&_.nodeType!==3?(_.innerHTML="",e.addEventToQueue(C,{node:_,parentNode:v}),k?e.pasteString(X,_):e.typeString(X,_)):_.textContent&&(k?e.pasteString(_.textContent,v):e.typeString(_.textContent,v))}return e}),S(this,"deleteAll",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return e.addEventToQueue(N,{speed:u}),e}),S(this,"changeDeleteSpeed",function(u){if(!u)throw new Error("Must provide new delete speed");return e.addEventToQueue(b,{speed:u}),e}),S(this,"changeDelay",function(u){if(!u)throw new Error("Must provide new delay");return e.addEventToQueue(M,{delay:u}),e}),S(this,"changeCursor",function(u){if(!u)throw new Error("Must provide new cursor");return e.addEventToQueue(x,{cursor:u}),e}),S(this,"deleteChars",function(u){if(!u)throw new Error("Must provide amount of characters to delete");for(var v=0;v<u;v++)e.addEventToQueue(m);return e}),S(this,"callFunction",function(u,v){if(!u||typeof u!="function")throw new Error("Callbak must be a function");return e.addEventToQueue(A,{cb:u,thisArg:v}),e}),S(this,"typeCharacters",function(u){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!u||!Array.isArray(u))throw new Error("Characters must be an array");return u.forEach(function(k){e.addEventToQueue(y,{character:k,node:v})}),e}),S(this,"removeCharacters",function(u){if(!u||!Array.isArray(u))throw new Error("Characters must be an array");return u.forEach(function(){e.addEventToQueue(m)}),e}),S(this,"addEventToQueue",function(u,v){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return e.addEventToStateProperty(u,v,k,"eventQueue")}),S(this,"addReverseCalledEvent",function(u,v){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=e.options.loop;return h?e.addEventToStateProperty(u,v,k,"reverseCalledEvents"):e}),S(this,"addEventToStateProperty",function(u,v){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=arguments.length>3?arguments[3]:void 0,z={eventName:u,eventArgs:v||{}};return e.state[h]=k?[z].concat(F(e.state[h])):[].concat(F(e.state[h]),[z]),e}),S(this,"runEventLoop",function(){e.state.lastFrameTime||(e.state.lastFrameTime=Date.now());var u=Date.now(),v=u-e.state.lastFrameTime;if(!e.state.eventQueue.length){if(!e.options.loop)return;e.state.eventQueue=F(e.state.calledEvents),e.state.calledEvents=[],e.options=I({},e.state.initialOptions)}if(e.state.eventLoop=r()(e.runEventLoop),!e.state.eventLoopPaused){if(e.state.pauseUntil){if(u<e.state.pauseUntil)return;e.state.pauseUntil=null}var k=F(e.state.eventQueue),h=k.shift(),z=0;if(!(v<=(z=h.eventName===R||h.eventName===m?e.options.deleteSpeed==="natural"?T(40,80):e.options.deleteSpeed:e.options.delay==="natural"?T(120,160):e.options.delay))){var _=h.eventName,X=h.eventArgs;switch(e.logInDevMode({currentEvent:h,state:e.state,delay:z}),_){case Y:case y:var K=X.character,le=X.node,pe=document.createTextNode(K),U=pe;e.options.onCreateTextNode&&typeof e.options.onCreateTextNode=="function"&&(U=e.options.onCreateTextNode(K,pe)),U&&(le?le.appendChild(U):e.state.elements.wrapper.appendChild(U)),e.state.visibleNodes=[].concat(F(e.state.visibleNodes),[{type:Ee,character:K,node:U}]);break;case m:k.unshift({eventName:R,eventArgs:{removingCharacterNode:!0}});break;case L:var xe=h.eventArgs.ms;e.state.pauseUntil=Date.now()+parseInt(xe);break;case A:var ce=h.eventArgs,ke=ce.cb,Ae=ce.thisArg;ke.call(Ae,{elements:e.state.elements});break;case C:var fe=h.eventArgs,Z=fe.node,ee=fe.parentNode;ee?ee.appendChild(Z):e.state.elements.wrapper.appendChild(Z),e.state.visibleNodes=[].concat(F(e.state.visibleNodes),[{type:J,node:Z,parentNode:ee||e.state.elements.wrapper}]);break;case N:var Me=e.state.visibleNodes,te=X.speed,q=[];te&&q.push({eventName:b,eventArgs:{speed:te,temp:!0}});for(var de=0,Oe=Me.length;de<Oe;de++)q.push({eventName:R,eventArgs:{removingCharacterNode:!1}});te&&q.push({eventName:b,eventArgs:{speed:e.options.deleteSpeed,temp:!0}}),k.unshift.apply(k,q);break;case R:var Pe=h.eventArgs.removingCharacterNode;if(e.state.visibleNodes.length){var ne=e.state.visibleNodes.pop(),Le=ne.type,B=ne.node,Ne=ne.character;e.options.onRemoveNode&&typeof e.options.onRemoveNode=="function"&&e.options.onRemoveNode({node:B,character:Ne}),B&&B.parentNode.removeChild(B),Le===J&&Pe&&k.unshift({eventName:R,eventArgs:{}})}break;case b:e.options.deleteSpeed=h.eventArgs.speed;break;case M:e.options.delay=h.eventArgs.delay;break;case x:e.options.cursor=h.eventArgs.cursor,e.state.elements.cursor.innerHTML=h.eventArgs.cursor}e.options.loop&&(h.eventName===R||h.eventArgs&&h.eventArgs.temp||(e.state.calledEvents=[].concat(F(e.state.calledEvents),[h]))),e.state.eventQueue=k,e.state.lastFrameTime=u}}}),D)if(typeof D=="string"){var ue=document.querySelector(D);if(!ue)throw new Error("Could not find container element");this.state.elements.container=ue}else this.state.elements.container=D;se&&(this.options=I(I({},this.options),se)),this.state.initialOptions=I({},this.options),this.init()}var l,g,d;return l=c,(g=[{key:"init",value:function(){this.setupWrapperElement(),this.addEventToQueue(x,{cursor:this.options.cursor},!0),this.addEventToQueue(N,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(w(".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}"),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(D){this.options.devMode&&console.log(D)}}])&&ae(l.prototype,g),d&&ae(l,d),c}()},function(t,a){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(i){typeof window=="object"&&(o=window)}t.exports=o},,,,,,,function(t,a,o){(function(i){(function(){var r,p,s,T,w,y;typeof performance!="undefined"&&performance!==null&&performance.now?t.exports=function(){return performance.now()}:i!=null&&i.hrtime?(t.exports=function(){return(r()-w)/1e6},p=i.hrtime,T=(r=function(){var m;return 1e9*(m=p())[0]+m[1]})(),y=1e9*i.uptime(),w=T-y):Date.now?(t.exports=function(){return Date.now()-s},s=Date.now()):(t.exports=function(){return new Date().getTime()-s},s=new Date().getTime())}).call(this)}).call(this,o(12))},function(t,a){var o,i,r=t.exports={};function p(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function T(b){if(o===setTimeout)return setTimeout(b,0);if((o===p||!o)&&setTimeout)return o=setTimeout,setTimeout(b,0);try{return o(b,0)}catch(M){try{return o.call(null,b,0)}catch(x){return o.call(this,b,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:p}catch(b){o=p}try{i=typeof clearTimeout=="function"?clearTimeout:s}catch(b){i=s}})();var w,y=[],m=!1,N=-1;function R(){m&&w&&(m=!1,w.length?y=w.concat(y):N=-1,y.length&&L())}function L(){if(!m){var b=T(R);m=!0;for(var M=y.length;M;){for(w=y,y=[];++N<M;)w&&w[N].run();N=-1,M=y.length}w=null,m=!1,function(x){if(i===clearTimeout)return clearTimeout(x);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(x);try{i(x)}catch(Y){try{return i.call(null,x)}catch(J){return i.call(this,x)}}}(b)}}function A(b,M){this.fun=b,this.array=M}function C(){}r.nextTick=function(b){var M=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)M[x-1]=arguments[x];y.push(new A(b,M)),y.length!==1||m||T(L)},A.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=C,r.addListener=C,r.once=C,r.off=C,r.removeListener=C,r.removeAllListeners=C,r.emit=C,r.prependListener=C,r.prependOnceListener=C,r.listeners=function(b){return[]},r.binding=function(b){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(b){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}]).default})});var E;(function(t){t[t.StartScreen=0]="StartScreen",t[t.Playing=1]="Playing",t[t.Paused=2]="Paused",t[t.GameOver=3]="GameOver"})(E||(E={}));var P;(function(t){t[t.Idle=0]="Idle",t[t.Running=1]="Running"})(P||(P={}));var O;(function(t){t[t.Player=0]="Player",t[t.Meteor=4]="Meteor",t[t.Meteor2=5]="Meteor2",t[t.UFO=6]="UFO",t[t.Star=3]="Star",t[t.StarCaught=7]="StarCaught"})(O||(O={}));var j;(function(t){t[t.PlayerIdle=0]="PlayerIdle",t[t.PlayerRunLeft=1]="PlayerRunLeft",t[t.PlayerRunRight=2]="PlayerRunRight",t[t.Star=3]="Star",t[t.Meteor=4]="Meteor",t[t.Meteor2=5]="Meteor2",t[t.UFO=6]="UFO",t[t.StarCaught=7]="StarCaught"})(j||(j={}));var he=(t,a)=>!(t.input.left&&t.input.right)&&(t.input.left||t.input.right)?{...a,state:P.Running}:a,me=(t,a,o,i)=>{if(!(t.input.left&&t.input.right)){if(t.input.left&&a.xpos-5<o||t.input.right&&a.xpos*2+5>i)return a;if(t.input.left)return{...a,state:P.Running,xpos:a.xpos-a.speed};if(t.input.right)return{...a,state:P.Running,xpos:a.xpos+a.speed}}return{...a,state:P.Idle}};var ge={state:E.StartScreen,entities:[],score:0,input:{left:!1,right:!1},tickRate:6,tickSkip:!1,tickCount:0,spriteSize:64,spriteFrameCount:3,spawnWait:200,spawnTickCount:0,fallSpeedMultiplier:1},ve={type:O.Player,state:P.Idle,xpos:0,ypos:114,speed:4,frameIndex:0,bboxStartXOffset:0,bboxStartYOffset:0,bboxWidth:0,bboxHeight:0},n=ge,f=ve,ye=new Image;ye.src="images/gamespritesheet.png";var be=new Image;be.src="images/gameforeground.png";var H,V,Q,re,W={maxStars:null,entityXpos:[],entityYpos:null,foregroundXpos:[]},Re=t=>{H=Math.floor(-t.canvas.width*.5),V=Math.floor(-t.canvas.height*.5),Q=t.canvas.width,re=t.canvas.height,f.xpos+5<H?f={...f,xpos:H+1}:f.xpos*2-5>Q&&(f={...f,xpos:Math.floor(Q*.5-1)}),document.activeElement!==t.canvas&&(n={...n,state:E.Paused});let a=n.spawnWait,o=n.fallSpeedMultiplier;switch(n.state===E.Playing&&(a>60&&(a-=.1),o<10&&(o+=5e-4)),f.state){case P.Idle:f=he(n,f);break;case P.Running:f=me(n,f,H,Q);break}let i=[];n.entities.forEach(r=>{r.ypos>=t.canvas.height-n.spriteSize||r.cycled||i.push({...r,ypos:r.ypos+r.speed*n.fallSpeedMultiplier})}),n={...n,entities:i,spawnWait:a,fallSpeedMultiplier:o,spawnTickCount:n.spawnTickCount+1,tickCount:n.tickCount+1}},ze=(t,a)=>{t.fillStyle="#161922",t.fillRect(H,V,Q,re);let o=(i,r)=>{let p={image:ye,sWidth:n.spriteSize,sHeight:n.spriteSize,dx:Math.floor(i.xpos-n.spriteSize*.5),dy:Math.floor(i.ypos-n.spriteSize*.5),dWidth:n.spriteSize,dHeight:n.spriteSize},s=i.frameIndex*n.spriteSize,T=r*n.spriteSize;t.drawImage(p.image,s,T,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)};for(let i=0;i<W.foregroundXpos.length;i++)t.drawImage(be,W.foregroundXpos[i],128);switch(n.entities.forEach(i=>{o(i,i.type)}),f.state){case P.Idle:o(f,j.PlayerIdle);break;case P.Running:n.input.left&&n.input.right?o(f,j.PlayerIdle):n.input.left?o(f,j.PlayerRunLeft):n.input.right&&o(f,j.PlayerRunRight);break}if(t.fillStyle="white",t.font="24px VT323",t.fillText(`SCORE: ${n.score}`,H+12,V+24),(n.state===E.Paused||n.state===E.GameOver)&&(t.fillStyle="#161922",t.fillRect(H,V,Q,re),n.state===E.Paused?(a.style.top="140",a.innerText="Paused"):n.state===E.GameOver&&(a.style.top="120",a.innerHTML=`Game Over <br> SCORE: ${n.score}`,n=ge,f=ve)),n.tickCount===n.tickRate){f.state===P.Idle&&n.tickSkip||(f={...f,frameIndex:f.frameIndex===n.spriteFrameCount-1?0:f.frameIndex+1});let i=[];n.entities.forEach(r=>{r.type!==O.StarCaught?n.tickSkip?i.push(r):i.push({...r,frameIndex:r.frameIndex===n.spriteFrameCount-1?0:r.frameIndex+1}):r.frameIndex===n.spriteFrameCount-1?i.push({...r,frameIndex:0,cycled:!0}):i.push({...r,frameIndex:r.frameIndex===n.spriteFrameCount-1?0:r.frameIndex+1})}),n={...n,entities:i,tickSkip:!n.tickSkip,tickCount:0}}},De=()=>{if(n.state===E.Playing&&n.spawnTickCount>=n.spawnWait){let t=[O.Meteor,O.Meteor2,O.UFO],a=[],o=0,i=W.maxStars||0;i<1&&(i=1);for(let r=0;r<W.entityXpos.length;r++){let p=t[Math.floor(Math.random()*t.length)],s=[];switch(p){case O.Meteor:s=[12,12,n.spriteSize-24,n.spriteSize-24];break;case O.Meteor2:s=[22,22,n.spriteSize-42,n.spriteSize-42];break;case O.UFO:s=[12,16,n.spriteSize-20,n.spriteSize-28];break}Math.random()>.5&&a.push({type:p,xpos:W.entityXpos[r],ypos:W.entityYpos||0,frameIndex:0,speed:1+Math.random(),bboxStartXOffset:s[0],bboxStartYOffset:s[1],bboxWidth:s[2],bboxHeight:s[3]})}for(let r=0;r<a.length&&o!==i;r++)Math.random()>.5&&(a[r]={...a[r],type:O.Star,speed:.5+Math.random(),bboxStartXOffset:16,bboxStartYOffset:14,bboxWidth:n.spriteSize-32,bboxHeight:n.spriteSize-28},o++);n={...n,entities:[...n.entities,...a],spawnTickCount:0}}},Fe=()=>{if(f.bboxWidth===0&&(f={...f,bboxStartXOffset:12,bboxStartYOffset:2,bboxWidth:n.spriteSize-25,bboxHeight:n.spriteSize-2}),!n.tickCount&&n.tickSkip){let t=f.xpos-n.spriteSize*.5+f.bboxStartXOffset,a=f.ypos-n.spriteSize*.5+f.bboxStartYOffset,o=[],i=!1;n.entities.forEach(r=>{let p=r.xpos-n.spriteSize*.5+r.bboxStartXOffset,s=r.ypos-n.spriteSize*.5+r.bboxStartYOffset;if(t<p+r.bboxWidth&&t+f.bboxWidth>p&&a<s+r.bboxHeight&&a+f.bboxHeight>s){if(r.type===O.Star){o.push({...r,type:O.StarCaught,frameIndex:0,cycled:!1}),i=!0,n={...n,score:n.score+1};return}else if(r.type!==O.StarCaught){n={...n,state:E.GameOver};return}}o.push(r)}),i&&(n={...n,entities:o})}},Se=(t,a,o)=>{o&&(t.canvas.style.cursor="default",n={...n,state:o}),De(),Fe(),Re(t),ze(t,a),n.state===E.Playing&&window.requestAnimationFrame(()=>Se(t,a))},je=t=>{if(!t||!t.getContext)return null;let a=document.getElementById("game-text"),o=t.getContext("2d");if(o!==null&&a){let i=()=>{window.requestAnimationFrame(()=>Se(o,a,E.Playing)),a.innerText=""};t.addEventListener("click",()=>{n.state!==E.Playing&&i()}),t.addEventListener("mouseenter",()=>{n.state!==E.Playing&&(a.classList.add("text-grow"),a.style.color="#CBD3FF",t.style.cursor="pointer",a.innerText==="Paused"&&(a.innerText="Unpause"))}),t.addEventListener("mouseout",()=>{n.state!==E.Playing&&(a.classList.remove("text-grow"),a.style.color="white",a.innerText==="Unpause"&&(a.innerText="Paused"))}),t.addEventListener("keydown",s=>{s.key!=="Tab"&&s.preventDefault(),n.state===E.Playing?((s.key==="ArrowLeft"||s.key==="a")&&(n={...n,input:{left:!0,right:n.input.right}}),(s.key==="ArrowRight"||s.key==="d")&&(n={...n,input:{left:n.input.left,right:!0}})):(s.key==="Enter"||s.key==="Spacebar"||s.key===" ")&&i()}),t.addEventListener("keyup",s=>{n.state===E.Playing&&((s.key==="ArrowLeft"||s.key==="a")&&(n={...n,input:{left:!1,right:n.input.right}}),(s.key==="ArrowRight"||s.key==="d")&&(n={...n,input:{left:n.input.left,right:!1}}))}),t.addEventListener("touchstart",s=>{n.state===E.Playing&&s.cancelable&&(s.preventDefault(),(s.targetTouches[0]?s.targetTouches[0].pageX:s.changedTouches[s.changedTouches.length-1].pageX)<f.xpos+window.innerWidth*.5?n={...n,input:{left:!0,right:!1}}:n={...n,input:{left:!1,right:!0}})}),t.addEventListener("touchend",()=>{n.state===E.Playing&&(n={...n,input:{left:!1,right:!1}})});let r=null,p=()=>{let s=document.getElementById("projects")?.clientWidth;s&&(o.canvas.height=320,o.canvas.width=s,o.translate(Math.floor(s*.5),Math.floor(o.canvas.height*.5)),r&&clearTimeout(r),r=setTimeout(()=>{let T=Math.ceil(o.canvas.width/(n.spriteSize*2)),w=[],y=[];for(let m=0;m<T;m++)w.push(Math.floor(-o.canvas.width*.5)+m*(n.spriteSize*2)+n.spriteSize*.5);for(let m=0;m<Math.ceil(o.canvas.width/n.spriteSize);m++)y.push(Math.floor(-o.canvas.width*.5)+m*n.spriteSize);W={maxStars:Math.floor(o.canvas.width/(n.spriteSize*5)),entityXpos:w,entityYpos:0-o.canvas.height*.5-n.spriteSize,foregroundXpos:y}},100))};p(),window.addEventListener("resize",p)}},we=je;var He=Te();window.addEventListener("DOMContentLoaded",()=>{(()=>{let a=document.getElementById("cycle"),o=["Interactive Experiences","Functional Websites","Your Next Dream Project"],i=1500;new He(a,{loop:!0,delay:75,deleteSpeed:25}).pauseFor(i).typeString(o[0]).pauseFor(i*2).deleteChars(o[0].length).pauseFor(i).typeString(o[1]).pauseFor(i*2).deleteChars(o[1].length).pauseFor(i).typeString(o[2]).pauseFor(i*2).deleteChars(o[2].length).pauseFor(i).start()})(),we(document.getElementById("game"))});})();
//# sourceMappingURL=script.js.map
